<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LG Science Park 방문 안내</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --lg-red: #a50034;
      --lg-light-red: #e63946;
      --lg-dark: #333;
      --lg-gray: #f8f9fa;
      --lg-light-gray: #e9ecef;
      --lg-border: #dee2e6;
      --animation-time: 0.3s;
    }
    
    body {
      font-family: 'Noto Sans KR', sans-serif;
      color: var(--lg-dark);
      background-color: #f9fafb;
      scroll-behavior: smooth;
    }
    
    .lg-btn {
      transition: all var(--animation-time) ease;
      position: relative;
      overflow: hidden;
    }
    
    .lg-btn::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: -100%;
      background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0) 100%);
      transition: all 0.5s ease;
    }
    
    .lg-btn:hover::after {
      left: 100%;
    }
    
    .lg-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(165, 0, 52, 0.15);
    }
    
    .lg-btn:active {
      transform: translateY(0);
    }
    
    .lg-card {
      transition: all var(--animation-time) ease;
      border-radius: 12px;
      overflow: hidden;
    }
    
    .lg-card:hover {
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
      transform: translateY(-3px);
    }
    
    .lg-form-control {
      transition: all 0.2s ease;
      border: 1.5px solid var(--lg-border);
    }
    
    .lg-form-control:focus {
      border-color: var(--lg-red);
      box-shadow: 0 0 0 3px rgba(165, 0, 52, 0.1);
    }
    
    .lg-badge {
      display: inline-block;
      padding: 0.25em 0.65em;
      border-radius: 30px;
      font-size: 0.85em;
      font-weight: 500;
      line-height: 1;
      text-align: center;
      white-space: nowrap;
    }
    
    .lg-checkbox {
      position: relative;
      width: 1.5em;
      height: 1.5em;
      cursor: pointer;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      border: 2px solid #cbd5e0;
      border-radius: 0.25rem;
      transition: all 0.2s ease;
      vertical-align: middle;
    }
    
    .lg-checkbox:checked {
      background-color: var(--lg-red);
      border-color: var(--lg-red);
    }
    
    .lg-checkbox:checked::after {
      content: '✓';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 0.9em;
    }
    
    .fadeIn {
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .lg-progress {
      position: relative;
      height: 4px;
      width: 100%;
      background: #e9ecef;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .lg-progress-bar {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background: var(--lg-red);
      transition: width 0.3s ease;
    }
    
    .section-appear {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
    }
    
    .section-appear.active {
      opacity: 1;
      transform: translateY(0);
    }
    
    .floating-summary {
      transition: all 0.3s ease;
      transform: translateY(100%);
    }
    
    .floating-summary.show {
      transform: translateY(0);
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 220px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 8px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #333 transparent transparent transparent;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    .drag-area {
      position: relative;
      width: 100%;
      height: 120px;
      border: 2px dashed #cbd5e0;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: all 0.3s ease;
    }
    
    .drag-area.active {
      border-color: var(--lg-red);
      background-color: rgba(165, 0, 52, 0.05);
    }
    
    .file-info {
      margin-top: 10px;
      display: none;
    }
    
    .file-info.show {
      display: block;
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #1a202c;
        color: #e2e8f0;
      }
      
      .lg-card {
        background-color: #2d3748;
      }
      
      .lg-form-control {
        background-color: #2d3748;
        border-color: #4a5568;
        color: #e2e8f0;
      }
      
      .lg-form-control:focus {
        border-color: var(--lg-light-red);
      }
      
      .drag-area {
        border-color: #4a5568;
      }
      
      .drag-area.active {
        background-color: rgba(230, 57, 70, 0.1);
      }
    }
    
    /* Toast notification */
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #333;
      color: white;
      padding: 12px 20px;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      transform: translateX(120%);
      transition: transform 0.3s ease;
      z-index: 1000;
    }
    
    .toast.show {
      transform: translateX(0);
    }
    
    .toast-icon {
      margin-right: 10px;
    }
    
    /* Sticky navigation */
    .sticky-nav {
      position: sticky;
      top: 0;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(5px);
      z-index: 100;
      transition: all 0.3s ease;
    }
    
    @media (prefers-color-scheme: dark) {
      .sticky-nav {
        background: rgba(26, 32, 44, 0.9);
      }
    }
  </style>
</head>
<body>
  <div class="toast" id="toast">
    <div class="toast-icon"><i class="fas fa-check-circle"></i></div>
    <div class="toast-message">저장되었습니다.</div>
  </div>
  
  <header class="bg-gradient-to-r from-red-700 to-red-800 text-white py-8 md:py-12">
    <div class="container mx-auto px-4">
      <h1 class="text-2xl md:text-4xl font-bold text-center">LG Science Park 방문 안내</h1>
      <p class="text-center mt-2 opacity-90">강사님을 위한 방문 안내 시스템</p>
    </div>
  </header>
  
  <nav class="bg-white shadow-sm sticky-nav py-3 border-b border-gray-200 mb-6">
    <div class="container mx-auto px-4">
      <div class="lg-progress">
        <div class="lg-progress-bar" id="progressBar" style="width: 0%"></div>
      </div>
      
      <div class="flex justify-between mt-3 overflow-x-auto" id="navTabs">
        <button class="px-3 py-2 text-sm md:text-base whitespace-nowrap active" data-section="info-section">
          <i class="fas fa-info-circle mr-1"></i> 안내사항
        </button>
        <button class="px-3 py-2 text-sm md:text-base whitespace-nowrap" data-section="basic-section">
          <i class="fas fa-user mr-1"></i> 기본정보
        </button>
        <button class="px-3 py-2 text-sm md:text-base whitespace-nowrap" data-section="equipment-section">
          <i class="fas fa-laptop mr-1"></i> 장비정보
        </button>
        <button class="px-3 py-2 text-sm md:text-base whitespace-nowrap" data-section="vehicle-section">
          <i class="fas fa-car mr-1"></i> 차량정보
        </button>
        <button class="px-3 py-2 text-sm md:text-base whitespace-nowrap" data-section="submit-section">
          <i class="fas fa-paper-plane mr-1"></i> 제출
        </button>
      </div>
    </div>
  </nav>
  
  <main class="container mx-auto px-4 pb-20">
    <!-- 안내사항 섹션 -->
    <section id="info-section" class="section-appear active mb-10">
      <div class="lg-card bg-white p-6 shadow-sm mb-8">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-exclamation-circle mr-2 text-red-600"></i> 출입 안내
        </h2>
        
        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-4">
          <p class="font-medium text-red-800">방문 포털 접속하여 비회원 방문 예약으로 진행해 주세요.</p>
          <a href="https://visit.lg.com/" target="_blank" class="inline-flex items-center mt-2 text-red-700 hover:underline">
            <i class="fas fa-external-link-alt mr-1"></i> 방문포탈 접속하기
          </a>
        </div>
        
        <ul class="space-y-3">
          <li class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <span class="flex items-center justify-center h-6 w-6 rounded-full bg-red-100 text-red-800">
                <i class="fas fa-check text-xs"></i>
              </span>
            </div>
            <span class="ml-3">노트북 등 기타 전자기기는 반입물품 정보에 필수 입력하셔야 합니다. (봉인 예외여부 체크 X)</span>
          </li>
          
          <li class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <span class="flex items-center justify-center h-6 w-6 rounded-full bg-red-100 text-red-800">
                <i class="fas fa-check text-xs"></i>
              </span>
            </div>
            <span class="ml-3">LG 방문신청 서비스 약관: 모두 동의</span>
          </li>
          
          <li class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <span class="flex items-center justify-center h-6 w-6 rounded-full bg-red-100 text-red-800">
                <i class="fas fa-check text-xs"></i>
              </span>
            </div>
            <span class="ml-3">방문장소: LG전자 마곡</span>
          </li>
          
          <li class="flex items-start">
            <div class="flex-shrink-0 mt-1">
              <span class="flex items-center justify-center h-6 w-6 rounded-full bg-red-100 text-red-800">
                <i class="fas fa-check text-xs"></i>
              </span>
            </div>
            <span class="ml-3">방문날짜: 강의 기간으로 설정 (사전 전검 필요한 경우 해당 기간 포함)</span>
          </li>
        </ul>
      </div>
      
      <div class="lg-card bg-white p-6 shadow-sm mb-8">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-users mr-2 text-blue-600"></i> 운영자 정보
        </h2>
        
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead>
              <tr>
                <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">이름</th>
                <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">이메일</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <tr>
                <td class="px-3 py-3 whitespace-nowrap">김미진</td>
                <td class="px-3 py-3 whitespace-nowrap">mijin1.kim@lgepartner.com</td>
              </tr>
              <tr>
                <td class="px-3 py-3 whitespace-nowrap">선송이</td>
                <td class="px-3 py-3 whitespace-nowrap">songyi.seon@lge.com</td>
              </tr>
              <tr>
                <td class="px-3 py-3 whitespace-nowrap">유지혜</td>
                <td class="px-3 py-3 whitespace-nowrap">jihye.yoo@lgepartner.com</td>
              </tr>
              <tr>
                <td class="px-3 py-3 whitespace-nowrap">정하연</td>
                <td class="px-3 py-3 whitespace-nowrap">hayeon.jung@lgepartner.com</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p class="text-sm text-gray-500 mt-2">*교육서비스센터</p>
      </div>
      
      <div class="lg-card bg-white p-6 shadow-sm">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-car mr-2 text-green-600"></i> 주차 안내
        </h2>
        
        <div class="flex items-start">
          <div class="flex-shrink-0 mt-1 text-green-500">
            <i class="fas fa-parking text-2xl"></i>
          </div>
          <span class="ml-3 text-lg">주차는 방문자 주차장(P3)을 이용해 주세요.</span>
        </div>
      </div>
      
      <div class="flex justify-end mt-6">
        <button id="nextToBasic" class="lg-btn bg-red-700 hover:bg-red-800 text-white font-medium py-2 px-6 rounded-md">
          다음 단계로 <i class="fas fa-arrow-right ml-1"></i>
        </button>
      </div>
    </section>
    
    <!-- 기본정보 섹션 -->
    <section id="basic-section" class="section-appear hidden mb-10">
      <div class="lg-card bg-white p-6 shadow-sm mb-8">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-user-tie mr-2 text-purple-600"></i> 강사 정보
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
          <div>
            <label for="company" class="block text-sm font-medium text-gray-700 mb-1">업체명 <span class="text-red-500">*</span></label>
            <input type="text" id="company" class="lg-form-control w-full px-3 py-2 rounded-md" placeholder="예: LG전자">
          </div>
          
          <div>
            <label for="instructor" class="block text-sm font-medium text-gray-700 mb-1">성함 <span class="text-red-500">*</span></label>
            <input type="text" id="instructor" class="lg-form-control w-full px-3 py-2 rounded-md" placeholder="예: 김엘지">
          </div>
          
          <div>
            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">연락처 <span class="text-red-500">*</span></label>
            <input type="text" id="phone" class="lg-form-control w-full px-3 py-2 rounded-md" placeholder="예: 010-1234-5678">
          </div>
        </div>
      </div>
      
      <div class="lg-card bg-white p-6 shadow-sm mb-8">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-cog mr-2 text-blue-600"></i> 사전 설치
        </h2>
        
        <div class="mb-4">
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="noPreinstallCb" class="lg-checkbox">
            <span class="ml-2">해당사항 없음</span>
          </label>
        </div>
        
        <div id="preinstallForm">
          <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-1">파일/프로그램 공유</label>
            
            <div class="drag-area" id="fileDropArea">
              <i class="fas fa-cloud-upload-alt text-gray-400 text-3xl mb-2"></i>
              <p class="text-gray-500 text-center">파일을 이곳에 끌어다 놓거나 클릭하여 업로드하세요</p>
              <input type="file" id="fileInput" class="hidden">
              <p class="text-xs text-gray-400 mt-1">최대 파일 크기: 30MB</p>
            </div>
            
            <div class="file-info mt-3" id="fileInfo">
              <div class="flex items-center p-2 bg-gray-50 rounded-md">
                <i class="fas fa-file-alt text-gray-500 mr-2"></i>
                <span id="fileName" class="text-sm">파일명.ext</span>
                <span id="fileSize" class="text-xs text-gray-500 ml-auto">0 KB</span>
                <button type="button" id="removeFile" class="ml-2 text-red-500 hover:text-red-700">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
          </div>
          
          <div class="mb-4">
            <label for="programDesc" class="block text-sm font-medium text-gray-700 mb-1">설치 프로그램명 설명</label>
            <textarea id="programDesc" rows="3" class="lg-form-control w-full px-3 py-2 rounded-md resize-none" placeholder="설치 프로그램에 대한 설명을 입력해주세요."></textarea>
          </div>
        </div>
      </div>
      
      <div class="lg-card bg-white p-6 shadow-sm">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-book mr-2 text-yellow-600"></i> 교재 제공 방식
        </h2>
        
        <div class="flex flex-wrap gap-4 mb-4">
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="pdfCb" class="lg-checkbox" name="material-type">
            <span class="ml-2">PDF 교재</span>
          </label>
          
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="paperCb" class="lg-checkbox" name="material-type">
            <span class="ml-2">서면 교재</span>
          </label>
          
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="noMaterialCb" class="lg-checkbox" name="material-type">
            <span class="ml-2">해당사항 없음</span>
          </label>
        </div>
        
        <div id="pdfMaterialForm" class="hidden mb-4">
          <div class="drag-area" id="pdfDropArea">
            <i class="fas fa-file-pdf text-gray-400 text-3xl mb-2"></i>
            <p class="text-gray-500 text-center">PDF 교재를 이곳에 끌어다 놓거나 클릭하여 업로드하세요</p>
            <p class="text-xs text-gray-400 mt-1">모든 파일 형식 지원 (알집 파일 포함)</p>
            <input type="file" id="pdfInput" class="hidden">
          </div>
          
          <div class="file-info mt-3" id="pdfInfo">
            <div class="flex items-center p-2 bg-gray-50 rounded-md">
              <i class="fas fa-file-pdf text-red-500 mr-2"></i>
              <span id="pdfName" class="text-sm">pdf명.pdf</span>
              <span id="pdfSize" class="text-xs text-gray-500 ml-auto">0 KB</span>
              <button type="button" id="removePdf" class="ml-2 text-red-500 hover:text-red-700">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
        </div>
        
        <div id="paperMaterialForm" class="hidden mb-4">
          <div class="bg-blue-50 p-4 rounded-md">
            <h3 class="font-medium text-blue-700 mb-2">교재 배송지:</h3>
            <p class="text-blue-800">서울 강서구 마곡중앙로 10로 10, W10동 지하1층 메일센터</p>
            <a href="https://map.naver.com/p/search/LG사이언스파크%20W10동/place/1948693696?c=15.00,0,0,0,dh&isCorrectAnswer=true" target="_blank" class="inline-flex items-center mt-2 text-blue-700 hover:underline">
              <i class="fas fa-map-marker-alt mr-1"></i> 지도보기
            </a>
          </div>
        </div>
      </div>
      
      <div class="flex justify-between mt-6">
        <button id="backToInfo" class="lg-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-md">
          <i class="fas fa-arrow-left mr-1"></i> 이전으로
        </button>
        
        <button id="nextToEquipment" class="lg-btn bg-red-700 hover:bg-red-800 text-white font-medium py-2 px-6 rounded-md">
          다음 단계로 <i class="fas fa-arrow-right ml-1"></i>
        </button>
      </div>
    </section>
    
    <!-- 장비정보 섹션 -->
    <section id="equipment-section" class="section-appear hidden mb-10">
      <div class="lg-card bg-white p-6 shadow-sm">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-laptop mr-2 text-green-600"></i> 반입 장비 정보
        </h2>
        
        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-5">
          <p>무선랜 게스트망 연결을 위해 MAC 주소 정보가 필수입니다.</p>
          <p class="text-sm mt-1">노트북의 MAC 주소는 cmd 창에서 <span class="font-mono bg-blue-100 px-1 rounded">ipconfig /all</span>로 확인 가능합니다.</p>
        </div>
        
        <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-5">
          <p class="font-medium">외장하드 등 저장매체는 원칙상 반입이 불가합니다.</p>
          <p class="text-sm mt-1">필요 시 아래 해당 항목을 체크하고 사유를 기입해 주세요.</p>
        </div>
        
        <div class="overflow-x-auto mb-5">
          <table class="min-w-full divide-y divide-gray-200" id="equipmentTable">
            <thead>
              <tr>
                <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">장비구분 *</th>
                <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">제조사</th>
                <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">기종</th>
                <th class="px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider" style="width: 80px;">수량</th>
                <th class="px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">S/N & MAC주소</th>
                <th class="px-3 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider" style="width: 60px;"></th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <!-- 장비 행 템플릿 - JS로 동적 추가 -->
            </tbody>
          </table>
        </div>
        
        <button type="button" id="addEquipment" class="lg-btn bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center text-sm">
          <i class="fas fa-plus mr-1"></i> 장비 추가
        </button>
        
        <div class="mt-5 pt-5 border-t border-gray-200">
          <div class="mb-4">
            <label class="flex items-center cursor-pointer">
              <input type="checkbox" id="usbStorageCb" class="lg-checkbox">
              <span class="ml-2">USB 등 저장매체 반입이 필요한 경우</span>
            </label>
          </div>
          
          <div id="usbStorageForm" class="hidden">
            <label for="usbDesc" class="block text-sm font-medium text-gray-700 mb-1">저장매체 종류 및 개수, 반입 사유 작성</label>
            <textarea id="usbDesc" rows="3" class="lg-form-control w-full px-3 py-2 rounded-md resize-none" placeholder="예: USB 1개, 교육 자료 복사용"></textarea>
          </div>
        </div>
        
        <div class="mt-5 pt-5 border-t border-gray-200">
          <div class="mb-4">
            <label class="flex items-center cursor-pointer">
              <input type="checkbox" id="lanPortCb" class="lg-checkbox">
              <span class="ml-2">LAN Port 해제가 필요한 경우</span>
            </label>
          </div>
          
          <div id="lanPortForm" class="hidden">
            <div class="flex flex-wrap gap-4">
              <div class="w-full md:w-auto">
                <label for="portType" class="block text-sm font-medium text-gray-700 mb-1">포트 종류</label>
                <select id="portType" class="lg-form-control px-3 py-2 rounded-md">
                  <option value="USB">USB</option>
                  <option value="LAN">LAN</option>
                  <option value="SD">SD카드</option>
                  <option value="Camera">카메라</option>
                  <option value="Etc">기타</option>
                </select>
              </div>
              
              <div class="flex-1">
                <label for="portDesc" class="block text-sm font-medium text-gray-700 mb-1">상세 정보</label>
                <input type="text" id="portDesc" class="lg-form-control w-full px-3 py-2 rounded-md" placeholder="LAN 포트 해제 필요 사유 등">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex justify-between mt-6">
        <button id="backToBasic" class="lg-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-md">
          <i class="fas fa-arrow-left mr-1"></i> 이전으로
        </button>
        
        <button id="nextToVehicle" class="lg-btn bg-red-700 hover:bg-red-800 text-white font-medium py-2 px-6 rounded-md">
          다음 단계로 <i class="fas fa-arrow-right ml-1"></i>
        </button>
      </div>
    </section>
    
    <!-- 차량정보 섹션 -->
    <section id="vehicle-section" class="section-appear hidden mb-10">
      <div class="lg-card bg-white p-6 shadow-sm">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-car mr-2 text-blue-600"></i> 차량 정보 입력
        </h2>
        
        <p class="mb-4 text-gray-600">주차가 필요한 경우 차량 정보를 입력해 주세요.</p>
        
        <div class="mb-4">
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="noVehicleCb" class="lg-checkbox">
            <span class="ml-2">해당사항 없음</span>
          </label>
        </div>
        
        <div id="vehicleForm">
          <div id="vehicleList">
            <!-- 차량 정보 입력 필드 - JS로 동적 추가 -->
          </div>
          
          <button type="button" id="addVehicle" class="lg-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center text-sm mt-3">
            <i class="fas fa-plus mr-1"></i> 차량 추가
          </button>
        </div>
      </div>
      
      <div class="flex justify-between mt-6">
        <button id="backToEquipment" class="lg-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-md">
          <i class="fas fa-arrow-left mr-1"></i> 이전으로
        </button>
        
        <button id="nextToSubmit" class="lg-btn bg-red-700 hover:bg-red-800 text-white font-medium py-2 px-6 rounded-md">
          다음 단계로 <i class="fas fa-arrow-right ml-1"></i>
        </button>
      </div>
    </section>
    
    <!-- 제출 섹션 -->
    <section id="submit-section" class="section-appear hidden mb-10">
      <div class="lg-card bg-white p-6 shadow-sm mb-8">
        <h2 class="text-xl md:text-2xl font-bold mb-4 flex items-center text-gray-900">
          <i class="fas fa-check-circle mr-2 text-green-600"></i> 정보 확인 및 제출
        </h2>
        
        <div class="bg-gray-50 p-5 rounded-lg mb-6">
          <h3 class="text-lg font-semibold mb-3 text-gray-800">입력 정보 요약</h3>
          
          <div class="mb-4">
            <h4 class="font-medium text-gray-700 mb-2">기본 정보</h4>
            <ul class="list-disc pl-5 text-gray-600 space-y-1" id="basicInfoSummary">
              <li>업체명: <span id="companySummary">(입력 필요)</span></li>
              <li>강사명: <span id="instructorSummary">(입력 필요)</span></li>
              <li>연락처: <span id="phoneSummary">(입력 필요)</span></li>
            </ul>
          </div>
          
          <div class="mb-4" id="equipmentSummaryContainer">
            <h4 class="font-medium text-gray-700 mb-2">장비 정보</h4>
            <div id="equipmentSummary" class="text-gray-600 pl-5">
              (입력된 장비 정보가 없습니다)
            </div>
          </div>
          
          <div class="mb-4" id="vehicleSummaryContainer">
            <h4 class="font-medium text-gray-700 mb-2">차량 정보</h4>
            <div id="vehicleSummary" class="text-gray-600 pl-5">
              (입력된 차량 정보가 없습니다)
            </div>
          </div>
        </div>
        
        <div class="mb-6">
          <label for="operatorEmail" class="block text-sm font-medium text-gray-700 mb-1">운영자 이메일 선택</label>
          <select id="operatorEmail" class="lg-form-control w-full px-3 py-2 rounded-md">
            <option value="">이메일을 보낼 운영자를 선택하세요</option>
            <option value="mijin1.kim@lgepartner.com">김미진 - mijin1.kim@lgepartner.com</option>
            <option value="songyi.seon@lge.com">선송이 - songyi.seon@lge.com</option>
            <option value="jihye.yoo@lgepartner.com">유지혜 - jihye.yoo@lgepartner.com</option>
            <option value="hayeon.jung@lgepartner.com">정하연 - hayeon.jung@lgepartner.com</option>
            <option value="custom">직접 입력</option>
          </select>
          
          <div id="customEmailContainer" class="hidden mt-3">
            <input type="email" id="customEmail" class="lg-form-control w-full px-3 py-2 rounded-md" placeholder="운영자 이메일 주소 입력">
          </div>
        </div>
        
        <div class="mb-6">
          <label for="additionalRequest" class="block text-sm font-medium text-gray-700 mb-1">추가 요청사항</label>
          <textarea id="additionalRequest" rows="4" class="lg-form-control w-full px-3 py-2 rounded-md resize-none" placeholder="추가 요청사항이 있으시면 입력해주세요."></textarea>
        </div>
      </div>
      
      <div class="flex justify-between mt-6">
        <button id="backToVehicle" class="lg-btn bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-md">
          <i class="fas fa-arrow-left mr-1"></i> 이전으로
        </button>
        
        <button id="submitForm" class="lg-btn bg-red-700 hover:bg-red-800 text-white font-bold py-3 px-8 rounded-md">
          <i class="fas fa-paper-plane mr-1"></i> 제출하기
        </button>
      </div>
    </section>
  </main>
  
  <footer class="bg-gray-800 text-white py-8">
    <div class="container mx-auto px-4 text-center">
      <p>© 2023 LG Science Park. All rights reserved.</p>
    </div>
  </footer>
  
  <script>
    // DOM 요소 참조
    const progressBar = document.getElementById('progressBar');
    const navTabs = document.getElementById('navTabs').querySelectorAll('button');
    const sections = document.querySelectorAll('section[id$="-section"]');
    
    // 장비 정보 선택 옵션
    const equipmentOptions = [
      "선택해주세요", "노트북", "네트워크장비", "NAS", "데스크탑", "스마트패드", 
      "샘플폰", "서버장비", "태블릿PC", "AP", "CD", "디지털카메라", 
      "DVD", "기타", "HDD/SSD", "모바일폰", "메모리카드", "USB", "워크스테이션"
    ];
    
    // 섹션 전환 함수
    function showSection(sectionId) {
      sections.forEach(section => {
        if (section.id === sectionId) {
          section.classList.remove('hidden');
          // 애니메이션 추가
          setTimeout(() => {
            section.classList.add('active');
          }, 10);
        } else {
          section.classList.remove('active');
          section.classList.add('hidden');
        }
      });
      
      // 탭 활성화
      navTabs.forEach(tab => {
        if (tab.getAttribute('data-section') === sectionId) {
          tab.classList.add('text-red-700', 'font-medium', 'border-b-2', 'border-red-700');
        } else {
          tab.classList.remove('text-red-700', 'font-medium', 'border-b-2', 'border-red-700');
        }
      });
      
      // 프로그레스 바 업데이트
      updateProgress(sectionId);
      
      // 요약 정보 업데이트 (제출 섹션인 경우)
      if (sectionId === 'submit-section') {
        updateSummary();
      }
      
      // 스크롤 맨 위로
      window.scrollTo({top: 0, behavior: 'smooth'});
    }
    
    // 프로그레스 바 업데이트
    function updateProgress(sectionId) {
      const sectionIndex = Array.from(sections).findIndex(section => section.id === sectionId);
      const progressPercentage = (sectionIndex / (sections.length - 1)) * 100;
      progressBar.style.width = `${progressPercentage}%`;
    }
    
    // 토스트 메시지 표시
    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      const toastIcon = toast.querySelector('.toast-icon i');
      const toastMessage = toast.querySelector('.toast-message');
      
      // 아이콘 및 배경색 설정
      if (type === 'success') {
        toastIcon.className = 'fas fa-check-circle';
        toast.style.background = '#10b981';
      } else if (type === 'error') {
        toastIcon.className = 'fas fa-exclamation-circle';
        toast.style.background = '#ef4444';
      } else {
        toastIcon.className = 'fas fa-info-circle';
        toast.style.background = '#3b82f6';
      }
      
      // 메시지 설정 및 표시
      toastMessage.textContent = message;
      toast.classList.add('show');
      
      // 3초 후 자동 숨김
      setTimeout(() => {
        toast.classList.remove('show');
      }, 3000);
    }
    
    // 파일 크기 포맷
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
    }
    
    // 사전 설치 정보 처리
    const noPreinstallCb = document.getElementById('noPreinstallCb');
    const preinstallForm = document.getElementById('preinstallForm');
    
    noPreinstallCb.addEventListener('change', () => {
      if (noPreinstallCb.checked) {
        preinstallForm.classList.add('hidden');
      } else {
        preinstallForm.classList.remove('hidden');
      }
      saveFormData();
    });
    
    // 파일 업로드 영역 처리
    const fileDropArea = document.getElementById('fileDropArea');
    const fileInput = document.getElementById('fileInput');
    const fileInfo = document.getElementById('fileInfo');
    const fileName = document.getElementById('fileName');
    const fileSize = document.getElementById('fileSize');
    const removeFile = document.getElementById('removeFile');
    
    fileDropArea.addEventListener('click', () => {
      fileInput.click();
    });
    
    fileDropArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      fileDropArea.classList.add('active');
    });
    
    fileDropArea.addEventListener('dragleave', () => {
      fileDropArea.classList.remove('active');
    });
    
    fileDropArea.addEventListener('drop', (e) => {
      e.preventDefault();
      fileDropArea.classList.remove('active');
      
      if (e.dataTransfer.files.length) {
        fileInput.files = e.dataTransfer.files;
        updateFileInfo(e.dataTransfer.files[0]);
      }
    });
    
    fileInput.addEventListener('change', () => {
      if (fileInput.files.length) {
        updateFileInfo(fileInput.files[0]);
      }
    });
    
    removeFile.addEventListener('click', () => {
      fileInput.value = '';
      fileInfo.classList.remove('show');
    });
    
    function updateFileInfo(file) {
      fileName.textContent = file.name;
      fileSize.textContent = formatFileSize(file.size);
      fileInfo.classList.add('show');
    }
    
    // 교재 제공 방식 처리
    const pdfCb = document.getElementById('pdfCb');
    const paperCb = document.getElementById('paperCb');
    const noMaterialCb = document.getElementById('noMaterialCb');
    const pdfMaterialForm = document.getElementById('pdfMaterialForm');
    const paperMaterialForm = document.getElementById('paperMaterialForm');
    
    function updateMaterialForms() {
      // PDF 교재 폼 표시/숨김
      if (pdfCb.checked) {
        pdfMaterialForm.classList.remove('hidden');
      } else {
        pdfMaterialForm.classList.add('hidden');
      }
      
      // 서면 교재 폼 표시/숨김
      if (paperCb.checked) {
        paperMaterialForm.classList.remove('hidden');
      } else {
        paperMaterialForm.classList.add('hidden');
      }
      
      saveFormData();
    }
    
    pdfCb.addEventListener('change', () => {
      if (pdfCb.checked && noMaterialCb.checked) {
        noMaterialCb.checked = false;
      }
      updateMaterialForms();
    });
    
    paperCb.addEventListener('change', () => {
      if (paperCb.checked && noMaterialCb.checked) {
        noMaterialCb.checked = false;
      }
      updateMaterialForms();
    });
    
    noMaterialCb.addEventListener('change', () => {
      if (noMaterialCb.checked) {
        pdfCb.checked = false;
        paperCb.checked = false;
        updateMaterialForms();
      }
      saveFormData();
    });
    
    // PDF 파일 업로드 처리
    const pdfDropArea = document.getElementById('pdfDropArea');
    const pdfInput = document.getElementById('pdfInput');
    const pdfInfo = document.getElementById('pdfInfo');
    const pdfName = document.getElementById('pdfName');
    const pdfSize = document.getElementById('pdfSize');
    const removePdf = document.getElementById('removePdf');
    
    pdfDropArea.addEventListener('click', () => {
      pdfInput.click();
    });
    
    pdfDropArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      pdfDropArea.classList.add('active');
    });
    
    pdfDropArea.addEventListener('dragleave', () => {
      pdfDropArea.classList.remove('active');
    });
    
    pdfDropArea.addEventListener('drop', (e) => {
      e.preventDefault();
      pdfDropArea.classList.remove('active');
      
      if (e.dataTransfer.files.length) {
        pdfInput.files = e.dataTransfer.files;
        updatePdfInfo(e.dataTransfer.files[0]);
      }
    });
    
    pdfInput.addEventListener('change', () => {
      if (pdfInput.files.length) {
        updatePdfInfo(pdfInput.files[0]);
      }
    });
    
    removePdf.addEventListener('click', () => {
      pdfInput.value = '';
      pdfInfo.classList.remove('show');
    });
    
    function updatePdfInfo(file) {
      pdfName.textContent = file.name;
      pdfSize.textContent = formatFileSize(file.size);
      pdfInfo.classList.add('show');
    }
    
    // 장비 정보 관리
    const equipmentTable = document.getElementById('equipmentTable');
    const addEquipmentBtn = document.getElementById('addEquipment');
    
    function createEquipmentRow() {
      const row = document.createElement('tr');
      row.className = 'equipment-row';
      
      // 장비구분 셀
      const typeCell = document.createElement('td');
      typeCell.className = 'px-3 py-1';
      
      const typeSelect = document.createElement('select');
      typeSelect.className = 'lg-form-control px-2 py-1 rounded-md w-full equipment-type';
      
      equipmentOptions.forEach((option, index) => {
        const optionElement = document.createElement('option');
        optionElement.value = option;
        optionElement.textContent = option;
        if (index === 0) optionElement.disabled = true;
        typeSelect.appendChild(optionElement);
      });
      
      typeCell.appendChild(typeSelect);
      
      // 제조사 셀
      const manufacturerCell = document.createElement('td');
      manufacturerCell.className = 'px-3 py-1';
      
      const manufacturerInput = document.createElement('input');
      manufacturerInput.type = 'text';
      manufacturerInput.className = 'lg-form-control px-2 py-1 rounded-md w-full equipment-manufacturer';
      manufacturerInput.placeholder = '제조사';
      
      manufacturerCell.appendChild(manufacturerInput);
      
      // 기종 셀
      const modelCell = document.createElement('td');
      modelCell.className = 'px-3 py-1';
      
      const modelInput = document.createElement('input');
      modelInput.type = 'text';
      modelInput.className = 'lg-form-control px-2 py-1 rounded-md w-full equipment-model';
      modelInput.placeholder = '기종';
      
      modelCell.appendChild(modelInput);
      
      // 수량 셀
      const quantityCell = document.createElement('td');
      quantityCell.className = 'px-3 py-1 text-center';
      
      const quantityInput = document.createElement('input');
      quantityInput.type = 'number';
      quantityInput.className = 'lg-form-control px-2 py-1 rounded-md w-full equipment-quantity text-center';
      quantityInput.min = '1';
      quantityInput.value = '1';
      
      quantityCell.appendChild(quantityInput);
      
      // S/N & MAC주소 셀
      const snMacCell = document.createElement('td');
      snMacCell.className = 'px-3 py-1';
      
      const snMacInput = document.createElement('input');
      snMacInput.type = 'text';
      snMacInput.className = 'lg-form-control px-2 py-1 rounded-md w-full equipment-snmac';
      snMacInput.placeholder = 'S/N & MAC주소';
      
      snMacCell.appendChild(snMacInput);
      
      // 액션 셀
      const actionCell = document.createElement('td');
      actionCell.className = 'px-3 py-1 text-center';
      
      const removeBtn = document.createElement('button');
      removeBtn.type = 'button';
      removeBtn.className = 'text-red-500 hover:text-red-700 focus:outline-none';
      removeBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
      removeBtn.addEventListener('click', () => {
        row.remove();
        saveFormData();
      });
      
      actionCell.appendChild(removeBtn);
      
      // 행에 셀 추가
      row.appendChild(typeCell);
      row.appendChild(manufacturerCell);
      row.appendChild(modelCell);
      row.appendChild(quantityCell);
      row.appendChild(snMacCell);
      row.appendChild(actionCell);
      
      // 각 입력 필드에 이벤트 리스너 추가
      [typeSelect, manufacturerInput, modelInput, quantityInput, snMacInput].forEach(input => {
        input.addEventListener('change', saveFormData);
      });
      
      return row;
    }
    
    addEquipmentBtn.addEventListener('click', () => {
      const row = createEquipmentRow();
      equipmentTable.querySelector('tbody').appendChild(row);
      showToast('장비가 추가되었습니다.');
    });
    
    // 초기 장비 행 추가
    addEquipmentBtn.click();
    
    // USB 등 저장매체 반입 관련
    const usbStorageCb = document.getElementById('usbStorageCb');
    const usbStorageForm = document.getElementById('usbStorageForm');
    const usbDesc = document.getElementById('usbDesc');
    
    usbStorageCb.addEventListener('change', () => {
      if (usbStorageCb.checked) {
        usbStorageForm.classList.remove('hidden');
      } else {
        usbStorageForm.classList.add('hidden');
      }
      saveFormData();
    });
    
    usbDesc.addEventListener('input', saveFormData);
    
    // LAN Port 해제 관련
    const lanPortCb = document.getElementById('lanPortCb');
    const lanPortForm = document.getElementById('lanPortForm');
    const portType = document.getElementById('portType');
    const portDesc = document.getElementById('portDesc');
    
    lanPortCb.addEventListener('change', () => {
      if (lanPortCb.checked) {
        lanPortForm.classList.remove('hidden');
      } else {
        lanPortForm.classList.add('hidden');
      }
      saveFormData();
    });
    
    [portType, portDesc].forEach(input => {
      input.addEventListener('change', saveFormData);
    });
    
    // 차량 정보 관리
    const vehicleList = document.getElementById('vehicleList');
    const addVehicleBtn = document.getElementById('addVehicle');
    const noVehicleCb = document.getElementById('noVehicleCb');
    const vehicleForm = document.getElementById('vehicleForm');
    
    noVehicleCb.addEventListener('change', () => {
      if (noVehicleCb.checked) {
        vehicleForm.classList.add('hidden');
      } else {
        vehicleForm.classList.remove('hidden');
      }
      saveFormData();
    });
    
    function createVehicleItem() {
      const vehicleItem = document.createElement('div');
      vehicleItem.className = 'vehicle-item flex flex-wrap gap-4 items-center mb-4 p-4 bg-gray-50 rounded-lg';
      
      // 차종 입력
      const modelContainer = document.createElement('div');
      modelContainer.className = 'flex-1';
      
      const modelLabel = document.createElement('label');
      modelLabel.className = 'block text-sm font-medium text-gray-700 mb-1';
      modelLabel.textContent = '차종 (예: 그랜저)';
      
      const modelInput = document.createElement('input');
      modelInput.type = 'text';
      modelInput.className = 'lg-form-control w-full px-3 py-2 rounded-md vehicle-model';
      modelInput.placeholder = '차종';
      
      modelContainer.appendChild(modelLabel);
      modelContainer.appendChild(modelInput);
      
      // 차량번호 입력
      const numberContainer = document.createElement('div');
      numberContainer.className = 'flex-1';
      
      const numberLabel = document.createElement('label');
      numberLabel.className = 'block text-sm font-medium text-gray-700 mb-1';
      numberLabel.textContent = '차량번호 (예: 12가 1234)';
      
      const numberInput = document.createElement('input');
      numberInput.type = 'text';
      numberInput.className = 'lg-form-control w-full px-3 py-2 rounded-md vehicle-number';
      numberInput.placeholder = '차량번호';
      
      numberContainer.appendChild(numberLabel);
      numberContainer.appendChild(numberInput);
      
      // 제거 버튼
      const removeContainer = document.createElement('div');
      removeContainer.className = 'flex items-end';
      
      const removeBtn = document.createElement('button');
      removeBtn.type = 'button';
      removeBtn.className = 'lg-btn bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-md flex items-center text-sm mb-1';
      removeBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
      removeBtn.addEventListener('click', () => {
        vehicleItem.remove();
        showToast('차량 정보가 삭제되었습니다.');
        saveFormData();
      });
      
      removeContainer.appendChild(removeBtn);
      
      // 아이템에 요소 추가
      vehicleItem.appendChild(modelContainer);
      vehicleItem.appendChild(numberContainer);
      vehicleItem.appendChild(removeContainer);
      
      // 입력 필드에 이벤트 리스너 추가
      [modelInput, numberInput].forEach(input => {
        input.addEventListener('input', saveFormData);
      });
      
      return vehicleItem;
    }
    
    addVehicleBtn.addEventListener('click', () => {
      const vehicleItem = createVehicleItem();
      vehicleList.appendChild(vehicleItem);
      showToast('차량 정보가 추가되었습니다.');
      saveFormData();
    });
    
    // 초기 차량 항목 추가
    addVehicleBtn.click();
    
    // 운영자 이메일 선택
    const operatorEmail = document.getElementById('operatorEmail');
    const customEmailContainer = document.getElementById('customEmailContainer');
    const customEmail = document.getElementById('customEmail');
    
    operatorEmail.addEventListener('change', () => {
      if (operatorEmail.value === 'custom') {
        customEmailContainer.classList.remove('hidden');
      } else {
        customEmailContainer.classList.add('hidden');
      }
      saveFormData();
    });
    
    customEmail.addEventListener('input', saveFormData);
    
    // 추가 요청사항
    const additionalRequest = document.getElementById('additionalRequest');
    additionalRequest.addEventListener('input', saveFormData);
    
    // 요약 정보 업데이트
    function updateSummary() {
      // 기본 정보 요약
      const company = document.getElementById('company').value || '(입력 필요)';
      const instructor = document.getElementById('instructor').value || '(입력 필요)';
      const phone = document.getElementById('phone').value || '(입력 필요)';
      
      document.getElementById('companySummary').textContent = company;
      document.getElementById('instructorSummary').textContent = instructor;
      document.getElementById('phoneSummary').textContent = phone;
      
      // 장비 정보 요약
      const equipmentRows = document.querySelectorAll('.equipment-row');
      const equipmentSummary = document.getElementById('equipmentSummary');
      
      if (equipmentRows.length > 0) {
        let equipmentHtml = '<ul class="list-disc pl-5 space-y-1">';
        
        equipmentRows.forEach(row => {
          const type = row.querySelector('.equipment-type').value;
          if (type !== '선택해주세요') {
            const manufacturer = row.querySelector('.equipment-manufacturer').value || '-';
            const model = row.querySelector('.equipment-model').value || '-';
            const quantity = row.querySelector('.equipment-quantity').value || '1';
            
            equipmentHtml += `<li>${type} | ${manufacturer} | ${model} | ${quantity}대</li>`;
          }
        });
        
        equipmentHtml += '</ul>';
        equipmentSummary.innerHTML = equipmentHtml;
      } else {
        equipmentSummary.innerHTML = '(입력된 장비 정보가 없습니다)';
      }
      
      // 차량 정보 요약
      const vehicleItems = document.querySelectorAll('.vehicle-item');
      const vehicleSummary = document.getElementById('vehicleSummary');
      
      if (noVehicleCb.checked) {
        vehicleSummary.innerHTML = '해당사항 없음';
      } else if (vehicleItems.length > 0) {
        let vehicleHtml = '<ul class="list-disc pl-5 space-y-1">';
        
        vehicleItems.forEach(item => {
          const model = item.querySelector('.vehicle-model').value || '-';
          const number = item.querySelector('.vehicle-number').value || '-';
          
          if (model !== '-' || number !== '-') {
            vehicleHtml += `<li>${model} | ${number}</li>`;
          }
        });
        
        vehicleHtml += '</ul>';
        vehicleSummary.innerHTML = vehicleHtml;
      } else {
        vehicleSummary.innerHTML = '(입력된 차량 정보가 없습니다)';
      }
    }
    
    // 폼 제출 처리
    const submitFormBtn = document.getElementById('submitForm');
    
    submitFormBtn.addEventListener('click', () => {
      // 필수 입력값 검증
      const company = document.getElementById('company').value;
      const instructor = document.getElementById('instructor').value;
      const phone = document.getElementById('phone').value;
      
      if (!company || !instructor || !phone) {
        showToast('기본 정보의 필수 항목을 모두 입력해주세요.', 'error');
        return;
      }
      
      // 운영자 이메일 확인
      let recipientEmail = operatorEmail.value;
      if (recipientEmail === 'custom') {
        recipientEmail = customEmail.value;
        if (!recipientEmail) {
          showToast('운영자 이메일을 입력해주세요.', 'error');
          return;
        }
      } else if (!recipientEmail) {
        showToast('운영자를 선택해주세요.', 'error');
        return;
      }
      
      // 폼 데이터 수집 및 전송 시뮬레이션
      submitFormBtn.disabled = true;
      submitFormBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-1"></i> 제출 중...';
      
      setTimeout(() => {
        showToast('방문 정보가 성공적으로 제출되었습니다!', 'success');
        submitFormBtn.disabled = false;
        submitFormBtn.innerHTML = '<i class="fas fa-check-circle mr-1"></i> 제출 완료';
        
        // 제출 완료 상태 LocalStorage에 저장
        localStorage.setItem('lgsp_form_submitted', 'true');
        
        // 3초 후 초기 상태로 되돌리기
        setTimeout(() => {
          submitFormBtn.innerHTML = '<i class="fas fa-paper-plane mr-1"></i> 제출하기';
        }, 3000);
      }, 1500);
    });
    
    // 탭 및 섹션 전환 설정
    navTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const sectionId = tab.getAttribute('data-section');
        showSection(sectionId);
      });
    });
    
    // 다음/이전 버튼 설정
    document.getElementById('nextToBasic').addEventListener('click', () => showSection('basic-section'));
    document.getElementById('backToInfo').addEventListener('click', () => showSection('info-section'));
    document.getElementById('nextToEquipment').addEventListener('click', () => showSection('equipment-section'));
    document.getElementById('backToBasic').addEventListener('click', () => showSection('basic-section'));
    document.getElementById('nextToVehicle').addEventListener('click', () => showSection('vehicle-section'));
    document.getElementById('backToEquipment').addEventListener('click', () => showSection('equipment-section'));
    document.getElementById('nextToSubmit').addEventListener('click', () => showSection('submit-section'));
    document.getElementById('backToVehicle').addEventListener('click', () => showSection('vehicle-section'));
    
    // 기본 정보 입력 필드 이벤트 리스너
    ['company', 'instructor', 'phone', 'programDesc'].forEach(id => {
      document.getElementById(id).addEventListener('input', saveFormData);
    });
    
    // 로컬 스토리지에 폼 데이터 저장
    function saveFormData() {
      const formData = {
        // 기본 정보
        company: document.getElementById('company').value,
        instructor: document.getElementById('instructor').value,
        phone: document.getElementById('phone').value,
        
        // 사전 설치
        noPreinstall: document.getElementById('noPreinstallCb').checked,
        programDesc: document.getElementById('programDesc').value,
        
        // 교재 제공 방식
        pdfMaterial: document.getElementById('pdfCb').checked,
        paperMaterial: document.getElementById('paperCb').checked,
        noMaterial: document.getElementById('noMaterialCb').checked,
        
        // 장비 정보는 복잡해서 제외
        
        // USB 저장매체
        usbStorage: document.getElementById('usbStorageCb').checked,
        usbDesc: document.getElementById('usbDesc').value,
        
        // LAN Port 해제
        lanPort: document.getElementById('lanPortCb').checked,
        portType: document.getElementById('portType').value,
        portDesc: document.getElementById('portDesc').value,
        
        // 차량 정보
        noVehicle: document.getElementById('noVehicleCb').checked,
        
        // 제출 정보
        operatorEmail: document.getElementById('operatorEmail').value,
        customEmail: document.getElementById('customEmail').value,
        additionalRequest: document.getElementById('additionalRequest').value
      };
      
      localStorage.setItem('lgsp_form_data', JSON.stringify(formData));
      
      // 콘솔에 저장 메시지 표시
      console.log('폼 데이터가 자동 저장되었습니다.');
    }
    
    // 로컬 스토리지에서 폼 데이터 불러오기
    function loadFormData() {
      const savedData = localStorage.getItem('lgsp_form_data');
      if (!savedData) return;
      
      try {
        const formData = JSON.parse(savedData);
        
        // 기본 정보
        document.getElementById('company').value = formData.company || '';
        document.getElementById('instructor').value = formData.instructor || '';
        document.getElementById('phone').value = formData.phone || '';
        
        // 사전 설치
        document.getElementById('noPreinstallCb').checked = formData.noPreinstall || false;
        document.getElementById('programDesc').value = formData.programDesc || '';
        
        if (formData.noPreinstall) {
          document.getElementById('preinstallForm').classList.add('hidden');
        }
        
        // 교재 제공 방식
        document.getElementById('pdfCb').checked = formData.pdfMaterial || false;
        document.getElementById('paperCb').checked = formData.paperMaterial || false;
        document.getElementById('noMaterialCb').checked = formData.noMaterial || false;
        
        updateMaterialForms();
        
        // USB 저장매체
        document.getElementById('usbStorageCb').checked = formData.usbStorage || false;
        document.getElementById('usbDesc').value = formData.usbDesc || '';
        
        if (formData.usbStorage) {
          document.getElementById('usbStorageForm').classList.remove('hidden');
        }
        
        // LAN Port 해제
        document.getElementById('lanPortCb').checked = formData.lanPort || false;
        document.getElementById('portType').value = formData.portType || 'USB';
        document.getElementById('portDesc').value = formData.portDesc || '';
        
        if (formData.lanPort) {
          document.getElementById('lanPortForm').classList.remove('hidden');
        }
        
        // 차량 정보
        document.getElementById('noVehicleCb').checked = formData.noVehicle || false;
        
        if (formData.noVehicle) {
          document.getElementById('vehicleForm').classList.add('hidden');
        }
        
        // 제출 정보
        document.getElementById('operatorEmail').value = formData.operatorEmail || '';
        document.getElementById('customEmail').value = formData.customEmail || '';
        document.getElementById('additionalRequest').value = formData.additionalRequest || '';
        
        if (formData.operatorEmail === 'custom') {
          document.getElementById('customEmailContainer').classList.remove('hidden');
        }
        
        console.log('저장된 폼 데이터를 불러왔습니다.');
      } catch (error) {
        console.error('폼 데이터 로드 중 오류 발생:', error);
      }
    }
    
    // 페이지 로드 시 저장된 데이터 불러오기
    document.addEventListener('DOMContentLoaded', () => {
      loadFormData();
      
      // 제출 완료된 경우 알림
      const submitted = localStorage.getItem('lgsp_form_submitted');
      if (submitted === 'true') {
        setTimeout(() => {
          showToast('이전에 제출한 방문 정보가 있습니다. 새로운 방문 정보를 입력하실 수 있습니다.', 'info');
        }, 1000);
      }
    });
    
    // 스크롤 시 섹션 애니메이션
    function handleScrollAnimations() {
      const sections = document.querySelectorAll('.section-appear:not(.hidden)');
      sections.forEach(section => {
        const sectionTop = section.getBoundingClientRect().top;
        const windowHeight = window.innerHeight;
        
        if (sectionTop < windowHeight * 0.75) {
          section.classList.add('active');
        }
      });
    }
    
    window.addEventListener('scroll', handleScrollAnimations);
    
    // 초기 스크롤 애니메이션 트리거
    setTimeout(handleScrollAnimations, 100);
  </script>
</body>
</html>
