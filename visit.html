<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LG Science Park 방문 안내</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css">
  <style>
    :root {
      --lg-red: #a50034;
      --lg-light-red: #f8d7e0;
      --lg-dark: #333;
      --lg-light: #f8f9fa;
      --lg-gray: #e9ecef;
      --lg-accent: #00a5e4;
    }
   
    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--lg-dark);
      background-color: #f5f5f7;
      line-height: 1.7;
    }
   
    .container {
      max-width: 1280px;
    }
   
    .page-title {
      margin-top: 3rem;
      color: var(--lg-red);
      letter-spacing: -0.02em;
    }
   
    .subtitle {
      color: #555;
      letter-spacing: -0.01em;
    }
   
    .section-title {
      color: var(--lg-red);
      font-weight: 600;
      margin-bottom: 2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
   
    .card {
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
      transition: all 0.3s ease;
      margin-bottom: 2.5rem;
    }
   
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);
    }
   
    .tab-button {
      padding: 1rem 2rem;
      border-radius: 9999px;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
   
    .tab-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
   
    .tab-button:hover::before {
      left: 100%;
    }
   
    .tab-button.active {
      background: linear-gradient(135deg, var(--lg-red), #8c002c);
      color: white;
      box-shadow: 0 6px 20px rgba(165, 0, 52, 0.3);
    }
   
    .tab-button:not(.active) {
      background-color: white;
      color: var(--lg-dark);
      border: 2px solid var(--lg-gray);
    }
   
    .tab-content {
      display: none;
    }
   
    .tab-content.active {
      display: block;
      animation: slideIn 0.4s ease-out;
    }
   
    @keyframes slideIn {
      from { 
        opacity: 0; 
        transform: translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }
   
    .form-group {
      margin-bottom: 2rem;
    }
   
    .form-label {
      font-weight: 600;
      margin-bottom: 0.75rem;
      display: block;
      color: var(--lg-dark);
      font-size: 1.1rem;
    }
   
    .form-control {
      width: 100%;
      padding: 1rem 1.25rem;
      border: 2px solid var(--lg-gray);
      border-radius: 12px;
      transition: all 0.3s ease;
      font-size: 1rem;
      background: white;
    }
   
    .form-control:focus {
      border-color: var(--lg-accent);
      box-shadow: 0 0 0 4px rgba(0, 165, 228, 0.15);
      outline: none;
      transform: translateY(-2px);
    }
   
    .btn {
      padding: 1rem 2rem;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
   
    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: all 0.3s ease;
    }
   
    .btn:hover::before {
      width: 300px;
      height: 300px;
    }
   
    .btn-primary {
      background: linear-gradient(135deg, var(--lg-red), #8c002c);
      color: white;
      box-shadow: 0 8px 25px rgba(165, 0, 52, 0.3);
    }
   
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(165, 0, 52, 0.4);
    }
   
    .btn-secondary {
      background: linear-gradient(135deg, white, #f8f9fa);
      color: var(--lg-dark);
      border: 2px solid var(--lg-gray);
    }
   
    .btn-secondary:hover {
      background: linear-gradient(135deg, var(--lg-gray), #dee2e6);
      transform: translateY(-2px);
    }
   
    .info-list {
      list-style: none;
      padding: 0;
    }
   
    .info-list li {
      margin-bottom: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 0.5rem 0;
    }
   
    .info-list li i {
      color: var(--lg-red);
      margin-top: 0.25rem;
      font-size: 1.1rem;
    }
   
    .operator-badge {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(135deg, var(--lg-light-red), #fce4ec);
      color: var(--lg-red);
      padding: 0.5rem 1rem;
      border-radius: 25px;
      font-size: 0.95rem;
      margin-right: 0.75rem;
      margin-bottom: 0.75rem;
      font-weight: 500;
      border: 1px solid rgba(165, 0, 52, 0.2);
    }
   
    .operator-badge .num {
      margin-left: 0.5rem;
      font-weight: 700;
      background: var(--lg-red);
      color: white;
      padding: 0.2rem 0.6rem;
      border-radius: 15px;
      font-size: 0.85rem;
    }
   
    .equipment-row {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 80px 1fr auto;
      gap: 1rem;
      margin-bottom: 1.5rem;
      align-items: center;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 12px;
      border: 1px solid var(--lg-gray);
    }
   
    .equipment-row select,
    .equipment-row input {
      padding: 0.75rem 1rem;
      border: 2px solid var(--lg-gray);
      border-radius: 8px;
      transition: all 0.3s ease;
    }
   
    .equipment-row select:focus,
    .equipment-row input:focus {
      border-color: var(--lg-accent);
      box-shadow: 0 0 0 3px rgba(0, 165, 228, 0.1);
    }
   
    .equipment-qty {
      text-align: center;
    }
   
    .floating-faq {
      position: fixed;
      right: 30px;
      bottom: 30px;
      z-index: 1000;
    }
   
    .floating-btn {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--lg-red), #8c002c);
      color: white;
      box-shadow: 0 10px 25px rgba(165, 0, 52, 0.4);
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }

    .floating-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 35px rgba(165, 0, 52, 0.5);
    }
   
    .faq-modal {
      position: fixed;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(5px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1001;
      transition: all 0.3s ease;
    }

    .faq-modal.show {
      display: flex;
      animation: fadeIn 0.3s ease;
    }

    .faq-modal.closing {
      animation: fadeOut 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
   
    .modal-content {
      background: white;
      width: 90%;
      max-width: 700px;
      max-height: 85vh;
      overflow-y: auto;
      border-radius: 20px;
      padding: 2.5rem;
      position: relative;
      transform: scale(1);
      transition: transform 0.3s ease;
      box-shadow: 0 25px 50px rgba(0,0,0,0.25);
    }

    .faq-modal.show .modal-content {
      animation: scaleIn 0.3s ease;
    }

    @keyframes scaleIn {
      from { transform: scale(0.8) translateY(-50px); opacity: 0; }
      to { transform: scale(1) translateY(0); opacity: 1; }
    }

    .faq-modal.closing .modal-content {
      transform: scale(0.9);
    }
   
    .close-modal {
      position: absolute;
      top: 1.5rem;
      right: 2rem;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      color: #999;
      background: #f1f3f4;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .close-modal:hover {
      color: var(--lg-red);
      background: var(--lg-light-red);
      transform: rotate(90deg);
    }
   
    .accordion-item {
      border-bottom: 1px solid #e2e8f0;
      margin-bottom: 0.5rem;
    }
   
    .accordion-header {
      padding: 1.5rem 0;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      transition: all 0.3s ease;
      color: var(--lg-dark);
    }

    .accordion-header:hover {
      color: var(--lg-red);
    }
   
    .accordion-content {
      padding: 0 0 1.5rem 0;
      display: none;
      color: #666;
      line-height: 1.6;
    }
   
    .accordion-content.active {
      display: block;
      animation: slideDown 0.3s ease;
    }

    @keyframes slideDown {
      from { opacity: 0; max-height: 0; }
      to { opacity: 1; max-height: 200px; }
    }
   
    .contact-form {
      margin-top: 2.5rem;
      padding-top: 2rem;
      border-top: 2px solid var(--lg-gray);
    }
   
    .drag-drop-area {
      border: 3px dashed var(--lg-gray);
      border-radius: 16px;
      padding: 3rem;
      text-align: center;
      transition: all 0.3s ease;
      background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%, transparent 75%, #f8f9fa 75%, #f8f9fa),
                  linear-gradient(45deg, #f8f9fa 25%, transparent 25%, transparent 75%, #f8f9fa 75%, #f8f9fa);
      background-size: 20px 20px;
      background-position: 0 0, 10px 10px;
      cursor: pointer;
    }
   
    .drag-drop-area:hover {
      border-color: var(--lg-accent);
      background-color: rgba(0, 165, 228, 0.05);
      transform: scale(1.02);
    }
   
    .drag-drop-area.dragover {
      border-color: var(--lg-red);
      background-color: rgba(165, 0, 52, 0.05);
      transform: scale(1.05);
      box-shadow: 0 10px 30px rgba(165, 0, 52, 0.2);
    }
   
    .upload-icon {
      font-size: 4rem;
      color: var(--lg-red);
      margin-bottom: 1.5rem;
      animation: bounce 2s infinite;
    }
   
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-15px);
      }
      60% {
        transform: translateY(-8px);
      }
    }
   
    .file-preview {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      padding: 1.5rem;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      border-radius: 12px;
      border: 2px solid var(--lg-accent);
      margin-top: 1rem;
    }
   
    .file-preview i {
      color: var(--lg-red);
      font-size: 3rem;
      margin-bottom: 1rem;
    }
   
    .summary-item {
      margin-bottom: 1.5rem;
      padding: 1.5rem;
      border-bottom: 1px solid var(--lg-gray);
      background: #f8f9fa;
      border-radius: 12px;
      margin-top: 1rem;
    }
   
    .summary-item:last-child {
      border-bottom: none;
    }
   
    .summary-label {
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: var(--lg-red);
      font-size: 1.1rem;
    }
   
    .summary-value {
      color: #555;
      line-height: 1.6;
    }
   
    .lan-port-container {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 1.5rem;
      margin-top: 1.5rem;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 12px;
    }
   
    .lan-port-fields {
      display: none;
      flex: 1;
      gap: 1rem;
    }
   
    .lan-port-fields.active {
      display: flex;
    }

    .error-message {
      color: #dc2626;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      font-weight: 500;
    }

    .success-message {
      color: #059669;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      font-weight: 500;
    }

    .upload-status {
      background: linear-gradient(135deg, #e0f2fe, #b3e5fc);
      border: 1px solid #00acc1;
      color: #00695c;
      padding: 1rem;
      border-radius: 12px;
      margin-top: 1rem;
      font-size: 0.95rem;
      font-weight: 500;
    }

    .file-link {
      display: block;
      background: linear-gradient(135deg, #f0f8ff, #e3f2fd);
      padding: 1rem;
      margin: 0.5rem 0;
      border-radius: 8px;
      border-left: 4px solid var(--lg-accent);
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      word-break: break-all;
    }

    .download-link {
      color: #0066cc;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .download-link:hover {
      color: var(--lg-red);
      text-decoration: underline;
    }

    /* 개선된 참조자 관리 스타일 */
    .cc-section {
      background: linear-gradient(135deg, #e8f5e8, #f1f8e9);
      border: 2px solid #4caf50;
      border-radius: 16px;
      padding: 2rem;
      margin-top: 2rem;
    }

    .cc-section .section-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
    }

    .cc-section .section-header i {
      color: #4caf50;
      font-size: 1.5rem;
    }

    .cc-section .section-header h3 {
      color: #2e7d32;
      font-weight: 700;
      font-size: 1.2rem;
      margin: 0;
    }

    .cc-info {
      background: rgba(76, 175, 80, 0.1);
      border: 1px solid #4caf50;
      color: #2e7d32;
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
      font-size: 0.95rem;
      font-weight: 500;
    }

    .cc-info i {
      color: #4caf50;
      margin-right: 0.75rem;
      font-size: 1.1rem;
    }

    .cc-input-container {
      position: relative;
      margin-bottom: 1rem;
    }

    .cc-input {
      width: 100%;
      padding: 1rem 1.25rem;
      padding-right: 3rem;
      border: 2px solid #4caf50;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: white;
    }

    .cc-input:focus {
      outline: none;
      border-color: #2e7d32;
      box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.15);
    }

    .cc-input.error {
      border-color: #dc2626;
    }

    .cc-add-btn {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 0.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 2.5rem;
      height: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .cc-add-btn:hover {
      background: #2e7d32;
      transform: translateY(-50%) scale(1.1);
    }

    .cc-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 1rem;
      min-height: 2rem;
    }

    .cc-tag {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(135deg, #4caf50, #388e3c);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 500;
      gap: 0.5rem;
      box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
      animation: slideIn 0.3s ease;
    }

    .cc-tag .remove-tag {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      border-radius: 50%;
      width: 1.5rem;
      height: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.8rem;
    }

    .cc-tag .remove-tag:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .email-validation-message {
      font-size: 0.85rem;
      margin-top: 0.5rem;
      font-weight: 500;
    }

    .email-validation-message.valid {
      color: #059669;
    }

    .email-validation-message.invalid {
      color: #dc2626;
    }
   
    @media (max-width: 768px) {
      .equipment-row {
        grid-template-columns: 1fr;
        gap: 0.75rem;
      }
      
      .lan-port-fields {
        flex-direction: column;
        gap: 0.75rem;
      }

      .cc-tags {
        gap: 0.5rem;
      }

      .cc-tag {
        font-size: 0.8rem;
        padding: 0.4rem 0.8rem;
      }

      .modal-content {
        padding: 1.5rem;
        width: 95%;
      }

      .floating-btn {
        width: 60px;
        height: 60px;
        right: 20px;
        bottom: 20px;
      }
    }

    @media print {
      .floating-faq, .faq-modal {
        display: none;
      }
      
      body {
        background-color: white;
      }
      
      .card {
        box-shadow: none;
        border: 1px solid #e0e0e0;
      }
    }
  </style>
</head>
<body class="min-h-screen">
  <div class="container mx-auto px-4 py-8 mt-4">
    <!-- 상단 여백 및 제목 -->
    <h1 class="page-title text-3xl md:text-4xl font-bold text-center mb-2">LG Science Park 방문 안내</h1>
    <p class="subtitle text-center text-lg mb-12">강사님을 위한 방문 안내 시스템</p>
   
    <!-- 탭 네비게이션 -->
    <div class="flex justify-center mb-10">
      <div class="inline-flex p-1 bg-white rounded-full shadow-lg">
        <button class="tab-button active" data-tab="tab1">1. 기본정보</button>
        <button class="tab-button" data-tab="tab2">2. 장비/차량정보</button>
        <button class="tab-button" data-tab="tab3">3. 제출</button>
      </div>
    </div>
   
    <!-- 탭 콘텐츠 영역 -->
    <div class="tab-container">
      <!-- 탭 1: 기본정보 -->
      <div id="tab1" class="tab-content active">
        <form id="visit-form">
          <div class="card p-8">
            <h2 class="section-title text-xl">
              <i class="fas fa-info-circle"></i> 방문포탈 접속 안내
            </h2>
            <p class="mb-6 text-lg">LG Science Park 방문을 위해서는 반드시 <strong>방문포탈에서 출입 등록/예약</strong>을 사전에 완료해 주셔야 합니다.</p>
            <p class="mb-6">아래 버튼을 클릭하여 방문포탈로 이동하세요. 비회원으로도 예약이 가능합니다.</p>
            <a href="https://visit.lg.com/" target="_blank" class="btn btn-primary inline-block">
              <i class="fas fa-external-link-alt mr-2"></i>방문포탈 접속하기
            </a>
           
            <div class="mt-8 p-6 bg-gray-50 rounded-lg">
              <h3 class="font-bold text-lg mb-4">주요 안내 사항</h3>
              <ul class="info-list">
                <li><i class="fas fa-check-circle"></i> 방문 포털 접속하여 비회원 방문 예약으로 진행해 주세요.</li>
                <li><i class="fas fa-check-circle"></i> 노트북 등 기타 전자기기는 반입물품 정보에 필수 입력하셔야 합니다. (봉인 예외여부 체크 X)</li>
                <li><i class="fas fa-check-circle"></i> LG 방문신청 서비스 약관: 모두 동의</li>
                <li><i class="fas fa-check-circle"></i> 방문장소: LG전자 마곡</li>
                <li><i class="fas fa-check-circle"></i> 운영자 정보 참고</li>
                <li><i class="fas fa-check-circle"></i> 방문날짜: 강의 기간으로 설정 (사전 점검 필요한 경우 해당 기간 포함)</li>
              </ul>
            </div>
           
            <div class="mt-8">
              <h3 class="font-bold mb-4 text-lg">운영자 정보</h3>
              <div>
                <span class="operator-badge">김미진<span class="num">7477</span></span>
                <span class="operator-badge">정하연<span class="num">6894</span></span>
                <span class="operator-badge">선송이<span class="num">7020</span></span>
                <span class="operator-badge">유지혜<span class="num">0530</span></span>
                <span class="text-sm text-gray-500 ml-2 font-medium">*교육서비스센터</span>
              </div>
            </div>
          </div>
         
          <div class="card p-8">
            <h2 class="section-title text-xl">
              <i class="fas fa-laptop-code"></i> 실습 자료 업로드
            </h2>
            <div class="form-group">
              <label class="form-label">파일/프로그램 공유</label>
              <div id="upload-container" class="drag-drop-area">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <p class="text-xl font-semibold mb-3">파일을 이곳에 끌어다 놓거나 클릭하여 업로드하세요</p>
                <p class="text-gray-500">용량 제한 없음 · 다중 파일 업로드 지원 · 모든 파일 형식 지원 (압축파일 포함)</p>
                <input type="file" id="file-upload" class="hidden" multiple accept="*/*">
              </div>
             
              <div class="form-group">
                <label class="form-label">설치 프로그램 설명</label>
                <textarea id="program-desc" name="program_description" class="form-control" rows="4" placeholder="수업 중 사용할 실습용 프로그램, 코드 예제, 설치 파일 등을 업로드해주세요.&#10;예시:&#10;- Python 3.9 설치 파일&#10;- 실습용 코드 예제 파일&#10;- 개발 환경 설정 가이드"></textarea>
              </div>
             
              <div class="flex items-center">
                <input type="checkbox" id="no-installation" class="mr-3">
                <label for="no-installation" class="cursor-pointer font-medium">해당사항 없음</label>
              </div>
            </div>
          </div>
         
          <div class="card p-8">
            <h2 class="section-title text-xl">
              <i class="fas fa-book"></i> 교재 제공 방식
            </h2>
            <div class="flex flex-wrap gap-8 mb-6">
              <div class="flex items-center">
                <input type="checkbox" id="material-pdf" name="material_type" value="PDF" class="mr-3">
                <label for="material-pdf" class="cursor-pointer font-medium">PDF 교재</label>
              </div>
             
              <div class="flex items-center">
                <input type="checkbox" id="material-paper" name="material_type" value="서면" class="mr-3">
                <label for="material-paper" class="cursor-pointer font-medium">서면 교재</label>
              </div>
             
              <div class="flex items-center">
                <input type="checkbox" id="material-none" name="material_type" value="없음" class="mr-3">
                <label for="material-none" class="cursor-pointer font-medium">해당사항 없음</label>
              </div>
            </div>
           
            <div id="pdf-upload-container" class="drag-drop-area mt-6 hidden">
              <i class="fas fa-file-pdf upload-icon"></i>
              <p class="text-xl font-semibold mb-3">PDF 교재를 이곳에 끌어다 놓거나 클릭하여 업로드하세요</p>
              <p class="text-gray-500 mb-2">용량 제한 없음 · 모든 파일 형식 지원 (압축파일 포함)</p>
              <p class="text-gray-400 text-sm">예시) 강사명_교재.pdf</p>
              <input type="file" id="pdf-upload" class="hidden" multiple accept="*/*">
            </div>
           
            <div id="paper-material-info" class="mt-6 p-6 bg-gray-50 rounded-lg hidden">
              <p class="font-semibold mb-2 text-lg">교재 배송지:</p>
              <p class="mb-4">서울 강서구 마곡중앙로 10로 10, W10동 지하1층 메일센터</p>
              <a href="https://map.naver.com/p/search/LG사이언스파크%20W10동/place/1948693696?c=15.00,0,0,0,dh&isCorrectAnswer=true"
                 target="_blank"
                 class="text-blue-600 hover:underline inline-flex items-center font-medium">
                <i class="fas fa-map-marker-alt mr-2"></i> 지도보기
              </a>
            </div>
          </div>
         
          <div class="card p-8">
            <h2 class="section-title text-xl">
              <i class="fas fa-user-tie"></i> 강사 정보
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div class="form-group">
                <label class="form-label">업체명 <span class="text-red-500">*</span></label>
                <input type="text" id="company-name" name="company" class="form-control" placeholder="예: LG전자" required>
                <div id="company-error" class="error-message hidden">업체명을 입력해주세요.</div>
              </div>
             
              <div class="form-group">
                <label class="form-label">성함 <span class="text-red-500">*</span></label>
                <input type="text" id="instructor-name" name="instructor_name" class="form-control" placeholder="예: 김엘지" required>
                <div id="instructor-error" class="error-message hidden">성함을 입력해주세요.</div>
              </div>
             
              <div class="form-group">
                <label class="form-label">연락처 <span class="text-red-500">*</span></label>
                <input type="tel" id="phone-number" name="phone" class="form-control" placeholder="예: 010-1234-5678" required>
                <div id="phone-error" class="error-message hidden">연락처를 입력해주세요.</div>
              </div>
            </div>
          </div>
         
          <div class="flex justify-end mt-6">
            <button type="button" id="next-to-tab2" class="btn btn-primary">
              다음 단계로 <i class="fas fa-arrow-right ml-2"></i>
            </button>
          </div>
        </form>
      </div>
     
      <!-- 탭 2: 장비 및 차량 정보 -->
      <div id="tab2" class="tab-content">
        <div class="card p-8">
          <h2 class="section-title text-xl">
            <i class="fas fa-laptop"></i> 반입 장비 정보
          </h2>
         
          <div class="bg-blue-50 p-6 rounded-lg mb-8 border-l-4 border-blue-400">
            <p class="mb-3 font-semibold text-blue-800"><i class="fas fa-wifi mr-2"></i>무선랜 게스트망 연결을 위해 MAC 주소 정보가 필수입니다.</p>
            <p class="mb-3">노트북의 MAC 주소는 cmd 창에서 'ipconfig /all'로 확인 가능합니다.</p>
            <p class="text-blue-700">외장하드 등 저장매체는 원칙상 반입이 불가합니다. 필요 시 아래 해당 항목을 체크하고 사유를 기입해 주세요.</p>
          </div>
         
          <div id="equipment-container">
            <div class="equipment-row">
              <select class="form-control" name="equipment_type">
                <option value="">장비 유형 선택</option>
                <option value="노트북">노트북</option>
                <option value="네트워크장비">네트워크장비</option>
                <option value="NAS">NAS</option>
                <option value="데스크탑">데스크탑</option>
                <option value="스마트패드">스마트패드</option>
                <option value="샘플폰">샘플폰</option>
                <option value="서버장비">서버장비</option>
                <option value="태블릿PC">태블릿PC</option>
                <option value="AP">AP</option>
                <option value="CD">CD</option>
                <option value="디지털카메라">디지털카메라</option>
                <option value="DVD">DVD</option>
                <option value="기타">기타</option>
                <option value="HDD/SSD">HDD/SSD</option>
                <option value="모바일폰">모바일폰</option>
                <option value="메모리카드">메모리카드</option>
                <option value="USB">USB</option>
                <option value="워크스테이션">워크스테이션</option>
              </select>
              <input type="text" class="form-control" name="equipment_manufacturer" placeholder="제조사">
              <input type="text" class="form-control" name="equipment_model" placeholder="기종">
              <input type="number" class="form-control equipment-qty" name="equipment_quantity" min="1" value="1" placeholder="수량">
              <input type="text" class="form-control" name="equipment_serial" placeholder="S/N & MAC주소">
              <button type="button" class="equipment-remove btn btn-secondary p-2">
                <i class="fas fa-minus"></i>
              </button>
            </div>
          </div>
         
          <button type="button" id="add-equipment" class="btn btn-secondary mt-6">
            <i class="fas fa-plus mr-2"></i> 장비 추가
          </button>
         
          <div class="mt-8">
            <div class="flex items-center mb-4">
              <input type="checkbox" id="storage-media-check" class="mr-3">
              <label for="storage-media-check" class="font-semibold text-lg">USB 등 저장매체 반입이 필요한 경우</label>
            </div>
           
            <textarea id="storage-media-info" name="storage_media_info" class="form-control hidden" rows="4" placeholder="저장매체 종류 및 개수, 반입 사유를 상세히 작성해 주세요."></textarea>
          </div>
         
          <div class="lan-port-container">
            <div class="flex items-center">
              <input type="checkbox" id="lan-port-check" class="mr-3">
              <label for="lan-port-check" class="font-semibold text-lg">LAN Port 해제가 필요한 경우</label>
            </div>
           
            <div id="lan-port-fields" class="lan-port-fields">
              <select class="form-control" name="lan_port_type" style="min-width: 150px;">
                <option value="">유형 선택</option>
                <option value="USB">USB</option>
                <option value="LAN">LAN</option>
                <option value="SD카드">SD카드</option>
                <option value="카메라">카메라</option>
                <option value="기타">기타</option>
              </select>
              <input type="text" class="form-control" name="lan_port_detail" placeholder="추가 상세 정보">
            </div>
          </div>
        </div>
       
        <div class="card p-8">
          <h2 class="section-title text-xl">
            <i class="fas fa-car"></i> 차량 정보 입력
          </h2>
         
          <p class="mb-6 text-lg">주차가 필요한 경우 차량 정보를 입력해 주세요.</p>
         
          <div id="vehicle-container">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
              <div class="form-group">
                <label class="form-label">차종</label>
                <input type="text" class="form-control" name="vehicle_type" placeholder="예: 그랜저">
              </div>
              <div class="form-group">
                <label class="form-label">차량번호</label>
                <input type="text" class="form-control" name="vehicle_number" placeholder="예: 12가 1234">
              </div>
            </div>
          </div>
         
          <div class="flex justify-between items-center mb-6">
            <button type="button" id="add-vehicle" class="btn btn-secondary">
              <i class="fas fa-plus mr-2"></i> 차량 추가
            </button>
           
            <div class="flex items-center">
              <input type="checkbox" id="no-vehicle" class="mr-3">
              <label for="no-vehicle" class="cursor-pointer font-medium">해당사항 없음</label>
            </div>
          </div>
        </div>
       
        <div class="flex justify-between mt-6">
          <button type="button" id="prev-to-tab1" class="btn btn-secondary">
            <i class="fas fa-arrow-left mr-2"></i> 이전 단계
          </button>
          <button type="button" id="next-to-tab3" class="btn btn-primary">
            다음 단계로 <i class="fas fa-arrow-right ml-2"></i>
          </button>
        </div>
      </div>
     
      <!-- 탭 3: 제출 -->
      <div id="tab3" class="tab-content">
        <div class="card p-8">
          <h2 class="section-title text-xl">
            <i class="fas fa-clipboard-check"></i> 정보 확인 및 제출
          </h2>
         
          <div class="bg-gray-50 p-6 rounded-lg mb-8">
            <h3 class="font-bold text-xl mb-4">입력 정보 요약</h3>
           
            <div class="summary-item">
              <div class="summary-label">기본 정보</div>
              <ul class="list-disc list-inside pl-2">
                <li>업체명: <span id="summary-company">(입력 필요)</span></li>
                <li>강사명: <span id="summary-instructor">(입력 필요)</span></li>
                <li>연락처: <span id="summary-phone">(입력 필요)</span></li>
              </ul>
            </div>

            <div id="summary-program" class="summary-item hidden">
              <div class="summary-label">설치 프로그램 설명</div>
              <div class="summary-value" id="summary-program-text"></div>
            </div>

            <div id="summary-files" class="summary-item hidden">
              <div class="summary-label">업로드된 파일</div>
              <div class="summary-value" id="summary-files-text"></div>
            </div>
           
            <div id="summary-equipment" class="summary-item">
              <div class="summary-label">반입 장비 정보</div>
              <div class="summary-value">(입력 필요)</div>
            </div>

            <div id="summary-storage" class="summary-item hidden">
              <div class="summary-label">저장매체 반입 정보</div>
              <div class="summary-value" id="summary-storage-text"></div>
            </div>

            <div id="summary-lanport" class="summary-item hidden">
              <div class="summary-label">LAN Port 해제 정보</div>
              <div class="summary-value" id="summary-lanport-text"></div>
            </div>
           
            <div id="summary-vehicle" class="summary-item">
              <div class="summary-label">차량 정보</div>
              <div class="summary-value">(입력 필요)</div>
            </div>

            <div id="summary-material" class="summary-item">
              <div class="summary-label">교재 제공 방식</div>
              <div class="summary-value" id="summary-material-text">미선택</div>
            </div>
           
            <div id="summary-inquiry" class="summary-item hidden">
              <div class="summary-label">추가 문의사항</div>
              <div class="summary-value" id="summary-inquiry-text"></div>
            </div>
          </div>
         
          <div class="form-group">
            <label class="form-label">운영자 이메일 선택 <span class="text-red-500">*</span></label>
            <select id="operator-email" name="to_email" class="form-control" required>
              <option value="">이메일을 보낼 운영자를 선택하세요</option>
              <option value="mijin1.kim@lgepartner.com">김미진 - mijin1.kim@lgepartner.com</option>
              <option value="songyi.seon@lge.com">선송이 - songyi.seon@lge.com</option>
              <option value="jihye.yoo@lgepartner.com">유지혜 - jihye.yoo@lgepartner.com</option>
              <option value="hayeon.jung@lgepartner.com">정하연 - hayeon.jung@lgepartner.com</option>
              <option value="custom">직접 입력</option>
            </select>
            <div id="email-error" class="error-message hidden">운영자 이메일을 선택해주세요.</div>
           
            <input type="email" id="custom-email" name="custom_email" class="form-control mt-4 hidden" placeholder="운영자 이메일 직접 입력">
          </div>

          <!-- 개선된 참조자 관리 섹션 -->
          <div class="cc-section">
            <div class="section-header">
              <i class="fas fa-users"></i>
              <h3>참조자 관리</h3>
            </div>
            
            <div class="cc-info">
              <i class="fas fa-info-circle"></i>
              <strong>기본 참조자:</strong> DL-TSC@lge.com (교육서비스센터)가 모든 이메일에 자동으로 참조됩니다.
            </div>

            <div class="cc-input-container">
              <input type="email" id="cc-email-input" class="cc-input" placeholder="추가 참조자 이메일 주소를 입력하세요 (예: colleague@company.com)">
              <button type="button" id="add-cc-btn" class="cc-add-btn">
                <i class="fas fa-plus"></i>
              </button>
            </div>
            
            <div class="email-validation-message" id="cc-validation-message"></div>
            
            <div class="cc-tags" id="cc-tags-container">
              <!-- 기본 참조자 태그 -->
              <div class="cc-tag" data-email="DL-TSC@lge.com">
                <i class="fas fa-shield-alt mr-1"></i>
                DL-TSC@lge.com
                <span class="text-xs opacity-75">(필수)</span>
              </div>
            </div>
          </div>
         
          <div class="form-group">
            <label class="form-label">추가 요청사항</label>
            <textarea id="additional-comments" name="additional_comments" class="form-control" rows="5" placeholder="추가 요청사항이나 특별히 알려드릴 내용이 있을 경우 작성해 주세요.&#10;예시:&#10;- 교육 시작 전 장비 점검 시간 필요&#10;- 특정 소프트웨어 사전 설치 요청&#10;- 네트워크 설정 관련 문의사항 등"></textarea>
          </div>
         
          <div id="email-status" class="hidden p-4 rounded-lg"></div>
         
          <div class="flex justify-between mt-8">
            <button type="button" id="prev-to-tab2" class="btn btn-secondary">
              <i class="fas fa-arrow-left mr-2"></i> 이전 단계
            </button>
            <button type="button" id="submit-form" class="btn btn-primary">
              <i class="fas fa-paper-plane mr-2"></i> 이메일 전송
            </button>
          </div>
        </div>
      </div>
    </div>
   
    <div class="mt-8 mb-12"></div>
  </div>
 
  <!-- 플로팅 FAQ 버튼 -->
  <div class="floating-faq">
    <button type="button" class="floating-btn" id="open-faq">
      FAQ
    </button>
  </div>
 
  <!-- FAQ 모달 -->
  <div class="faq-modal" id="faq-modal">
    <div class="modal-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold" style="color: var(--lg-red);">자주 묻는 질문 (FAQ)</h2>
        <button class="close-modal">
          <i class="fas fa-times"></i>
        </button>
      </div>
     
      <div class="accordion">
        <div class="accordion-item">
          <div class="accordion-header" data-accordion="faq1">
            <span>Q1. 노트북 외에도 태블릿도 MAC 등록이 필요한가요?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="accordion-content" id="faq1">
            <p>네, <strong>무선 연결이 필요한 모든 장비는 MAC 주소 등록</strong>이 필요합니다. 태블릿, 스마트폰, 노트북 등 Wi-Fi를 사용하는 모든 기기를 등록해 주세요.</p>
          </div>
        </div>
       
        <div class="accordion-item">
          <div class="accordion-header" data-accordion="faq2">
            <span>Q2. 입차 등록은 필수인가요?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="accordion-content" id="faq2">
            <p>네, <strong>사전 등록되지 않으면 출입이 불가능</strong>합니다. 방문 전 반드시 방문포탈에서 예약을 완료해 주시기 바랍니다.</p>
          </div>
        </div>
       
        <div class="accordion-item">
          <div class="accordion-header" data-accordion="faq3">
            <span>Q3. 장비 반입 목록은 언제까지 제출해야 하나요?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="accordion-content" id="faq3">
            <p><strong>최소 방문 3영업일 전까지</strong> 제출해 주시기 바랍니다. 급한 경우 운영자에게 직접 연락하여 문의해 주세요.</p>
          </div>
        </div>
       
        <div class="accordion-item">
          <div class="accordion-header" data-accordion="faq4">
            <span>Q4. 방문증은 어떻게 반납하나요?</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="accordion-content" id="faq4">
            <p><strong>방문증을 받은 건물의 안내데스크에 반납</strong>해 주세요.</p>
            <p class="text-sm text-gray-600 mt-2">예시) W10동에서 수령 → W10동 안내데스크 반납</p>
          </div>
        </div>
       
        <div class="accordion-item">
          <div class="accordion-header" data-accordion="faq5">
            <span>추가 안내사항</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="accordion-content" id="faq5">
            <ul class="list-disc ml-6 space-y-2">
              <li><strong>장비 점검이 필요한 경우</strong>, 교육 시작 30분 전까지 도착해주세요.</li>
              <li><strong>신분증 지참</strong>은 필수입니다.</li>
              <li><strong>방문증은 항상 착용</strong>해 주셔야 합니다.</li>
              <li><strong>보안 구역 출입 시</strong> 추가 승인이 필요할 수 있습니다.</li>
            </ul>
          </div>
        </div>
      </div>
     
      <div class="contact-form">
        <h3 class="font-semibold mb-4 text-lg">기타 문의사항</h3>
        <textarea class="form-control mb-4" id="contact-message" rows="4" placeholder="추가 문의사항이 있으면 상세히 입력해 주세요"></textarea>
        <button type="button" id="save-inquiry" class="btn btn-primary">
          <i class="fas fa-save mr-2"></i>저장하기
        </button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
  <script>
    // 전역 변수
    let savedInquiry = '';
    let uploadedFiles = {
      program: [],
      pdf: []
    };
    let ccEmails = ['DL-TSC@lge.com']; // 기본 참조자
   
    document.addEventListener('DOMContentLoaded', function() {
      // EmailJS 초기화
      emailjs.init("C56kGCzPtfgWVEKoO");
     
      // 탭 전환 기능
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabContents = document.querySelectorAll('.tab-content');
     
      function activateTab(tabId) {
        tabButtons.forEach(btn => {
          if (btn.dataset.tab === tabId) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });
       
        tabContents.forEach(content => {
          if (content.id === tabId) {
            content.classList.add('active');
          } else {
            content.classList.remove('active');
          }
        });
       
        if (tabId === 'tab3') {
          updateSummary();
        }
       
        window.scrollTo({top: 0, behavior: 'smooth'});
      }
     
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          activateTab(button.dataset.tab);
        });
      });
     
      // 참조자 관리 기능
      const ccInput = document.getElementById('cc-email-input');
      const addCcBtn = document.getElementById('add-cc-btn');
      const ccTagsContainer = document.getElementById('cc-tags-container');
      const ccValidationMessage = document.getElementById('cc-validation-message');

      function validateEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }

      function showValidationMessage(message, isValid) {
        ccValidationMessage.textContent = message;
        ccValidationMessage.className = `email-validation-message ${isValid ? 'valid' : 'invalid'}`;
        ccValidationMessage.style.display = 'block';
        
        if (isValid || !message) {
          setTimeout(() => {
            ccValidationMessage.style.display = 'none';
          }, 3000);
        }
      }

      function addCcEmail(email) {
        if (!validateEmail(email)) {
          showValidationMessage('올바른 이메일 형식이 아닙니다.', false);
          return false;
        }

        if (ccEmails.includes(email)) {
          showValidationMessage('이미 추가된 이메일입니다.', false);
          return false;
        }

        ccEmails.push(email);
        
        const tag = document.createElement('div');
        tag.className = 'cc-tag';
        tag.setAttribute('data-email', email);
        tag.innerHTML = `
          <i class="fas fa-user mr-1"></i>
          ${email}
          <button type="button" class="remove-tag" onclick="removeCcEmail('${email}')">
            <i class="fas fa-times"></i>
          </button>
        `;
        
        ccTagsContainer.appendChild(tag);
        ccInput.value = '';
        showValidationMessage('이메일이 추가되었습니다.', true);
        return true;
      }

      window.removeCcEmail = function(email) {
        if (email === 'DL-TSC@lge.com') {
          showValidationMessage('기본 참조자는 삭제할 수 없습니다.', false);
          return;
        }
        
        ccEmails = ccEmails.filter(e => e !== email);
        const tag = document.querySelector(`[data-email="${email}"]`);
        if (tag) {
          tag.remove();
        }
      };

      addCcBtn.addEventListener('click', function() {
        const email = ccInput.value.trim();
        if (email) {
          addCcEmail(email);
        }
      });

      ccInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          const email = ccInput.value.trim();
          if (email) {
            addCcEmail(email);
          }
        }
      });

      ccInput.addEventListener('input', function() {
        const email = this.value.trim();
        if (email && !validateEmail(email)) {
          showValidationMessage('올바른 이메일 형식을 입력해주세요.', false);
        } else if (email && ccEmails.includes(email)) {
          showValidationMessage('이미 추가된 이메일입니다.', false);
        } else {
          ccValidationMessage.style.display = 'none';
        }
      });
     
      // 다음/이전 버튼
      document.getElementById('next-to-tab2').addEventListener('click', () => {
        if (validateTab1()) {
          activateTab('tab2');
        }
      });
      
      document.getElementById('prev-to-tab1').addEventListener('click', () => {
        activateTab('tab1');
      });
      
      document.getElementById('next-to-tab3').addEventListener('click', () => {
        activateTab('tab3');
      });
      
      document.getElementById('prev-to-tab2').addEventListener('click', () => {
        activateTab('tab2');
      });
     
      // 폼 검증
      function validateTab1() {
        let isValid = true;
        
        const company = document.getElementById('company-name').value.trim();
        const instructor = document.getElementById('instructor-name').value.trim();
        const phone = document.getElementById('phone-number').value.trim();
        
        if (!company) {
          document.getElementById('company-error').classList.remove('hidden');
          isValid = false;
        } else {
          document.getElementById('company-error').classList.add('hidden');
        }
        
        if (!instructor) {
          document.getElementById('instructor-error').classList.remove('hidden');
          isValid = false;
        } else {
          document.getElementById('instructor-error').classList.add('hidden');
        }
        
        if (!phone) {
          document.getElementById('phone-error').classList.remove('hidden');
          isValid = false;
        } else {
          document.getElementById('phone-error').classList.add('hidden');
        }
        
        return isValid;
      }
     
      // 장비 추가/삭제
      document.getElementById('add-equipment').addEventListener('click', function() {
        const container = document.getElementById('equipment-container');
        const newRow = document.createElement('div');
        newRow.className = 'equipment-row';
        newRow.innerHTML = `
          <select class="form-control" name="equipment_type">
            <option value="">장비 유형 선택</option>
            <option value="노트북">노트북</option>
            <option value="네트워크장비">네트워크장비</option>
            <option value="NAS">NAS</option>
            <option value="데스크탑">데스크탑</option>
            <option value="스마트패드">스마트패드</option>
            <option value="샘플폰">샘플폰</option>
            <option value="서버장비">서버장비</option>
            <option value="태블릿PC">태블릿PC</option>
            <option value="AP">AP</option>
            <option value="CD">CD</option>
            <option value="디지털카메라">디지털카메라</option>
            <option value="DVD">DVD</option>
            <option value="기타">기타</option>
            <option value="HDD/SSD">HDD/SSD</option>
            <option value="모바일폰">모바일폰</option>
            <option value="메모리카드">메모리카드</option>
            <option value="USB">USB</option>
            <option value="워크스테이션">워크스테이션</option>
          </select>
          <input type="text" class="form-control" name="equipment_manufacturer" placeholder="제조사">
          <input type="text" class="form-control" name="equipment_model" placeholder="기종">
          <input type="number" class="form-control equipment-qty" name="equipment_quantity" min="1" value="1" placeholder="수량">
          <input type="text" class="form-control" name="equipment_serial" placeholder="S/N & MAC주소">
          <button type="button" class="equipment-remove btn btn-secondary p-2">
            <i class="fas fa-minus"></i>
          </button>
        `;
        container.appendChild(newRow);
      });
     
      document.addEventListener('click', function(e) {
        if (e.target.closest('.equipment-remove')) {
          const row = e.target.closest('.equipment-row');
          if (document.querySelectorAll('.equipment-row').length > 1) {
            row.remove();
          }
        }
      });
     
      // 저장매체 체크박스
      document.getElementById('storage-media-check').addEventListener('change', function() {
        const textarea = document.getElementById('storage-media-info');
        if (this.checked) {
          textarea.classList.remove('hidden');
        } else {
          textarea.classList.add('hidden');
          textarea.value = '';
        }
      });
     
      // LAN Port 체크박스
      document.getElementById('lan-port-check').addEventListener('change', function() {
        const fields = document.getElementById('lan-port-fields');
        if (this.checked) {
          fields.classList.add('active');
        } else {
          fields.classList.remove('active');
          fields.querySelector('select').value = '';
          fields.querySelector('input').value = '';
        }
      });
     
      // 교재 유형 체크박스
      document.getElementById('material-pdf').addEventListener('change', function() {
        const uploadContainer = document.getElementById('pdf-upload-container');
        if (this.checked) {
          uploadContainer.classList.remove('hidden');
        } else {
          uploadContainer.classList.add('hidden');
        }
      });
      
      document.getElementById('material-paper').addEventListener('change', function() {
        const infoContainer = document.getElementById('paper-material-info');
        if (this.checked) {
          infoContainer.classList.remove('hidden');
        } else {
          infoContainer.classList.add('hidden');
        }
      });
     
      // 차량 추가
      document.getElementById('add-vehicle').addEventListener('click', function() {
        const container = document.getElementById('vehicle-container');
        const newVehicle = document.createElement('div');
        newVehicle.className = 'grid grid-cols-1 md:grid-cols-3 gap-6 mb-6';
        newVehicle.innerHTML = `
          <div class="form-group">
            <label class="form-label">차종</label>
            <input type="text" class="form-control" name="vehicle_type" placeholder="예: 그랜저">
          </div>
          <div class="form-group">
            <label class="form-label">차량번호</label>
            <input type="text" class="form-control" name="vehicle_number" placeholder="예: 12가 1234">
          </div>
          <div class="flex items-end">
            <button type="button" class="btn btn-secondary vehicle-remove">
              <i class="fas fa-minus mr-1"></i> 삭제
            </button>
          </div>
        `;
        container.appendChild(newVehicle);
      });
     
      document.addEventListener('click', function(e) {
        if (e.target.closest('.vehicle-remove')) {
          e.target.closest('.grid').remove();
        }
      });
     
      // 운영자 이메일 선택
      document.getElementById('operator-email').addEventListener('change', function() {
        const customEmail = document.getElementById('custom-email');
        if (this.value === 'custom') {
          customEmail.classList.remove('hidden');
          customEmail.required = true;
        } else {
          customEmail.classList.add('hidden');
          customEmail.required = false;
        }
      });
     
      // 파일 업로드 (실습자료)
      const fileUpload = document.getElementById('file-upload');
      const uploadContainer = document.getElementById('upload-container');
      
      uploadContainer.addEventListener('click', () => fileUpload.click());
      uploadContainer.addEventListener('dragover', handleDragOver);
      uploadContainer.addEventListener('drop', handleFileDrop);
      fileUpload.addEventListener('change', handleFileSelect);
      
      function handleDragOver(e) {
        e.preventDefault();
        uploadContainer.classList.add('dragover');
      }
      
      function handleFileDrop(e) {
        e.preventDefault();
        uploadContainer.classList.remove('dragover');
        const files = e.dataTransfer.files;
        handleFiles(files, 'program');
      }
      
      function handleFileSelect(e) {
        const files = e.target.files;
        handleFiles(files, 'program');
      }
      
      function handleFiles(files, type) {
        for (let file of files) {
          uploadedFiles[type].push(file);
        }
        updateFileDisplay(type);
      }
      
      function updateFileDisplay(type) {
        const container = type === 'program' ? uploadContainer : document.getElementById('pdf-upload-container');
        const fileList = uploadedFiles[type];
        
        if (fileList.length > 0) {
          container.innerHTML = `
            <div class="file-preview">
              <i class="fas fa-file-archive"></i>
              <p class="font-medium">${fileList.length}개 파일 업로드됨</p>
              <p class="text-sm text-gray-600">${fileList.map(f => f.name).join(', ')}</p>
            </div>
          `;
        }
      }
     
      // PDF 교재 업로드
      const pdfUpload = document.getElementById('pdf-upload');
      const pdfUploadContainer = document.getElementById('pdf-upload-container');
      
      pdfUploadContainer.addEventListener('click', () => pdfUpload.click());
      pdfUploadContainer.addEventListener('dragover', (e) => {
        e.preventDefault();
        pdfUploadContainer.classList.add('dragover');
      });
      pdfUploadContainer.addEventListener('drop', (e) => {
        e.preventDefault();
        pdfUploadContainer.classList.remove('dragover');
        const files = e.dataTransfer.files;
        handleFiles(files, 'pdf');
      });
      pdfUpload.addEventListener('change', (e) => {
        const files = e.target.files;
        handleFiles(files, 'pdf');
      });
     
      // FAQ 모달
      const faqModal = document.getElementById('faq-modal');
      const openFaqBtn = document.getElementById('open-faq');
      const closeFaqBtn = document.querySelector('.close-modal');
      
      openFaqBtn.addEventListener('click', () => {
        faqModal.classList.add('show');
      });
      
      closeFaqBtn.addEventListener('click', closeFaqModal);
      
      faqModal.addEventListener('click', (e) => {
        if (e.target === faqModal) {
          closeFaqModal();
        }
      });
      
      function closeFaqModal() {
        faqModal.classList.add('closing');
        setTimeout(() => {
          faqModal.classList.remove('show', 'closing');
        }, 300);
      }
     
      // 아코디언
      document.querySelectorAll('.accordion-header').forEach(header => {
        header.addEventListener('click', function() {
          const targetId = this.dataset.accordion;
          const content = document.getElementById(targetId);
          const icon = this.querySelector('i');
          
          // 모든 아코디언 닫기
          document.querySelectorAll('.accordion-content').forEach(c => {
            if (c !== content) {
              c.classList.remove('active');
            }
          });
          document.querySelectorAll('.accordion-header i').forEach(i => {
            if (i !== icon) {
              i.className = 'fas fa-chevron-down';
            }
          });
          
          // 현재 아코디언 토글
          content.classList.toggle('active');
          icon.className = content.classList.contains('active') ? 
            'fas fa-chevron-up' : 'fas fa-chevron-down';
        });
      });
     
      // 문의사항 저장
      document.getElementById('save-inquiry').addEventListener('click', function() {
        const message = document.getElementById('contact-message').value.trim();
        if (message) {
          savedInquiry = message;
          alert('문의사항이 저장되었습니다.');
          document.getElementById('contact-message').value = '';
        }
      });
     
      // 요약 업데이트
      function updateSummary() {
        // 기본 정보
        document.getElementById('summary-company').textContent = 
          document.getElementById('company-name').value || '(입력 필요)';
        document.getElementById('summary-instructor').textContent = 
          document.getElementById('instructor-name').value || '(입력 필요)';
        document.getElementById('summary-phone').textContent = 
          document.getElementById('phone-number').value || '(입력 필요)';
        
        // 프로그램 설명
        const programDesc = document.getElementById('program-desc').value.trim();
        if (programDesc) {
          document.getElementById('summary-program').classList.remove('hidden');
          document.getElementById('summary-program-text').textContent = programDesc;
        } else {
          document.getElementById('summary-program').classList.add('hidden');
        }
        
        // 업로드된 파일
        if (uploadedFiles.program.length > 0 || uploadedFiles.pdf.length > 0) {
          document.getElementById('summary-files').classList.remove('hidden');
          const fileInfo = [];
          if (uploadedFiles.program.length > 0) {
            fileInfo.push(`실습자료: ${uploadedFiles.program.length}개 파일`);
          }
          if (uploadedFiles.pdf.length > 0) {
            fileInfo.push(`교재: ${uploadedFiles.pdf.length}개 파일`);
          }
          document.getElementById('summary-files-text').textContent = fileInfo.join(', ');
        } else {
          document.getElementById('summary-files').classList.add('hidden');
        }
        
        // 장비 정보
        const equipmentRows = document.querySelectorAll('.equipment-row');
        let equipmentInfo = [];
        equipmentRows.forEach(row => {
          const type = row.querySelector('[name="equipment_type"]').value;
          const manufacturer = row.querySelector('[name="equipment_manufacturer"]').value;
          const model = row.querySelector('[name="equipment_model"]').value;
          const quantity = row.querySelector('[name="equipment_quantity"]').value;
          
          if (type) {
            let equipmentText = `${type}`;
            if (manufacturer) equipmentText += ` (${manufacturer}`;
            if (model) equipmentText += ` ${model}`;
            if (manufacturer) equipmentText += ')';
            if (quantity && quantity > 1) equipmentText += ` ${quantity}개`;
            equipmentInfo.push(equipmentText);
          }
        });
        
        document.getElementById('summary-equipment').querySelector('.summary-value').textContent = 
          equipmentInfo.length > 0 ? equipmentInfo.join(', ') : '(입력 필요)';
        
        // 저장매체 정보
        const storageInfo = document.getElementById('storage-media-info').value.trim();
        if (storageInfo) {
          document.getElementById('summary-storage').classList.remove('hidden');
          document.getElementById('summary-storage-text').textContent = storageInfo;
        } else {
          document.getElementById('summary-storage').classList.add('hidden');
        }
        
        // LAN Port 정보
        const lanPortType = document.querySelector('[name="lan_port_type"]').value;
        const lanPortDetail = document.querySelector('[name="lan_port_detail"]').value;
        if (lanPortType) {
          document.getElementById('summary-lanport').classList.remove('hidden');
          let lanPortText = lanPortType;
          if (lanPortDetail) lanPortText += ` - ${lanPortDetail}`;
          document.getElementById('summary-lanport-text').textContent = lanPortText;
        } else {
          document.getElementById('summary-lanport').classList.add('hidden');
        }
        
        // 차량 정보
        const vehicleInputs = document.querySelectorAll('[name="vehicle_type"]');
        let vehicleInfo = [];
        vehicleInputs.forEach((input, index) => {
          const type = input.value;
          const number = document.querySelectorAll('[name="vehicle_number"]')[index]?.value;
          if (type || number) {
            vehicleInfo.push(`${type || '(차종 미입력)'} ${number || '(번호 미입력)'}`);
          }
        });
        
        document.getElementById('summary-vehicle').querySelector('.summary-value').textContent = 
          vehicleInfo.length > 0 ? vehicleInfo.join(', ') : '(입력 필요)';
        
        // 교재 정보
        const materialTypes = [];
        if (document.getElementById('material-pdf').checked) materialTypes.push('PDF 교재');
        if (document.getElementById('material-paper').checked) materialTypes.push('서면 교재');
        if (document.getElementById('material-none').checked) materialTypes.push('해당사항 없음');
        
        document.getElementById('summary-material-text').textContent = 
          materialTypes.length > 0 ? materialTypes.join(', ') : '미선택';
        
        // 추가 문의사항
        if (savedInquiry) {
          document.getElementById('summary-inquiry').classList.remove('hidden');
          document.getElementById('summary-inquiry-text').textContent = savedInquiry;
        } else {
          document.getElementById('summary-inquiry').classList.add('hidden');
        }
      }
     
      // 이메일 전송
      document.getElementById('submit-form').addEventListener('click', function() {
        const operatorEmail = document.getElementById('operator-email').value;
        const customEmail = document.getElementById('custom-email').value;
        
        if (!operatorEmail) {
          document.getElementById('email-error').classList.remove('hidden');
          return;
        } else {
          document.getElementById('email-error').classList.add('hidden');
        }
        
        if (operatorEmail === 'custom' && !customEmail) {
          alert('직접 입력 이메일을 입력해주세요.');
          return;
        }
        
        const toEmail = operatorEmail === 'custom' ? customEmail : operatorEmail;
        
        // 이메일 데이터 준비
        const emailData = {
          to_email: toEmail,
          cc: ccEmails.join(','),
          instructor_name: document.getElementById('instructor-name').value,
          timestamp: new Date().toLocaleString('ko-KR'),
          company: document.getElementById('company-name').value,
          phone: document.getElementById('phone-number').value,
          program_description: document.getElementById('program-desc').value,
          material_type: Array.from(document.querySelectorAll('[name="material_type"]:checked')).map(cb => cb.value).join(', '),
          equipment_list: getEquipmentList(),
          vehicle_list: getVehicleList(),
          storage_media_info: document.getElementById('storage-media-info').value,
          lan_port_info: getLanPortInfo(),
          inquiry: savedInquiry,
          additional_comments: document.getElementById('additional-comments').value
        };
        
        // 파일 링크 추가 (실제 구현에서는 파일 업로드 서비스 연동 필요)
        if (uploadedFiles.program.length > 0) {
          emailData.program_file_links = uploadedFiles.program.map(file => 
            `<a href="#" class="download-link">${file.name}</a>`
          ).join('<br>');
        }
        
        if (uploadedFiles.pdf.length > 0) {
          emailData.material_file_links = uploadedFiles.pdf.map(file => 
            `<a href="#" class="download-link">${file.name}</a>`
          ).join('<br>');
        }
        
        // 이메일 전송
        const statusDiv = document.getElementById('email-status');
        statusDiv.className = 'p-4 rounded-lg bg-blue-50 border border-blue-200 text-blue-800';
        statusDiv.textContent = '이메일 전송 중...';
        statusDiv.classList.remove('hidden');
        
        emailjs.send('ldd_Training Service', 'template_ajf77x7', emailData)
          .then(function(response) {
            statusDiv.className = 'p-4 rounded-lg bg-green-50 border border-green-200 text-green-800';
            statusDiv.innerHTML = `
              <i class="fas fa-check-circle mr-2"></i>
              이메일이 성공적으로 전송되었습니다!<br>
              <small>수신자: ${toEmail}</small><br>
              <small>참조자: ${ccEmails.join(', ')}</small>
            `;
          })
          .catch(function(error) {
            statusDiv.className = 'p-4 rounded-lg bg-red-50 border border-red-200 text-red-800';
            statusDiv.innerHTML = `
              <i class="fas fa-exclamation-triangle mr-2"></i>
              이메일 전송에 실패했습니다. 다시 시도해주세요.<br>
              <small>오류: ${error.text || '알 수 없는 오류'}</small>
            `;
          });
      });
      
      function getEquipmentList() {
        const equipmentRows = document.querySelectorAll('.equipment-row');
        let equipment = [];
        
        equipmentRows.forEach(row => {
          const type = row.querySelector('[name="equipment_type"]').value;
          const manufacturer = row.querySelector('[name="equipment_manufacturer"]').value;
          const model = row.querySelector('[name="equipment_model"]').value;
          const quantity = row.querySelector('[name="equipment_quantity"]').value;
          const serial = row.querySelector('[name="equipment_serial"]').value;
          
          if (type) {
            equipment.push(`${type} ${manufacturer} ${model} ${quantity}개 (${serial})`);
          }
        });
        
        return equipment.join('\n');
      }
      
      function getVehicleList() {
        const vehicleTypes = document.querySelectorAll('[name="vehicle_type"]');
        const vehicleNumbers = document.querySelectorAll('[name="vehicle_number"]');
        let vehicles = [];
        
        vehicleTypes.forEach((input, index) => {
          const type = input.value;
          const number = vehicleNumbers[index]?.value;
          if (type || number) {
            vehicles.push(`${type} ${number}`);
          }
        });
        
        return vehicles.length > 0 ? vehicles.join('\n') : '없음';
      }
      
      function getLanPortInfo() {
        const type = document.querySelector('[name="lan_port_type"]').value;
        const detail = document.querySelector('[name="lan_port_detail"]').value;
        
        if (type) {
          return `${type} ${detail}`.trim();
        }
        return '';
      }
    });
  </script>
</body>
</html>
