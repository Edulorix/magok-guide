<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LG Science Park 방문 안내</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap">
  <style>
    :root {
      --lg-red: #a50034;
      --lg-red-light: #d83f6a;
      --lg-gray: #f5f5f7;
      --dark-gray: #333333;
      --light-gray: #f8f9fa;
      --transition: all 0.3s ease;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    }
    
    @media (prefers-color-scheme: dark) {
      :root {
        --lg-gray: #1a1a1a;
        --dark-gray: #eeeeee;
        --light-gray: #333333;
      }
    }
    
    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: var(--lg-gray);
      color: var(--dark-gray);
      line-height: 1.6;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }
    
    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 0 16px;
    }
    
    .lg-card {
      background-color: white;
      border-radius: 16px;
      box-shadow: var(--shadow-md);
      margin-bottom: 24px;
      overflow: hidden;
      transition: var(--transition);
    }
    
    .lg-card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    .lg-card-body {
      padding: 24px;
    }
    
    .lg-card-header {
      padding: 16px 24px;
      border-bottom: 1px solid rgba(0,0,0,0.05);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .lg-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 20px;
      min-height: 48px;
      border-radius: 8px;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      gap: 8px;
    }
    
    .lg-btn-primary {
      background-color: var(--lg-red);
      color: white;
    }
    
    .lg-btn-primary:hover {
      background-color: var(--lg-red-light);
      box-shadow: var(--shadow-sm);
    }
    
    .lg-btn-outline {
      border: 1.5px solid var(--lg-red);
      color: var(--lg-red);
      background-color: transparent;
    }
    
    .lg-btn-outline:hover {
      background-color: rgba(165, 0, 52, 0.05);
    }
    
    .lg-form-group {
      margin-bottom: 24px;
    }
    
    .lg-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--dark-gray);
    }
    
    .lg-input,
    .lg-select,
    .lg-textarea {
      width: 100%;
      padding: 12px 16px;
      border: 1.5px solid #e2e8f0;
      border-radius: 8px;
      background-color: white;
      transition: var(--transition);
    }
    
    .lg-input:focus,
    .lg-select:focus,
    .lg-textarea:focus {
      border-color: var(--lg-red);
      outline: none;
      box-shadow: 0 0 0 3px rgba(165, 0, 52, 0.1);
    }
    
    .upload-area {
      border: 2px dashed #e2e8f0;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .upload-area:hover {
      border-color: var(--lg-red);
      background-color: rgba(165, 0, 52, 0.02);
    }
    
    .step-navigation {
      display: flex;
      justify-content: center;
      margin-bottom: 32px;
    }
    
    .step-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 12px;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .step-circle {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: #e2e8f0;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 8px;
      font-weight: 600;
      color: white;
      position: relative;
      z-index: 1;
    }
    
    .step-circle.active {
      background-color: var(--lg-red);
    }
    
    .step-name {
      font-size: 14px;
      font-weight: 500;
      color: #718096;
      transition: var(--transition);
    }
    
    .step-item.active .step-name {
      color: var(--lg-red);
    }
    
    .step-line {
      flex: 1;
      height: 3px;
      background-color: #e2e8f0;
      margin-top: 18px;
      position: relative;
    }
    
    .progress-bar {
      height: 3px;
      background-color: var(--lg-red);
      position: absolute;
      left: 0;
      top: 0;
      transition: width 0.3s ease;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .notification {
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 16px;
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }
    
    .notification-info {
      background-color: #ebf8ff;
      color: #2c5282;
    }
    
    .notification-warning {
      background-color: #fffaf0;
      color: #9c4221;
    }
    
    .checkbox-container {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    
    /* Custom checkbox */
    .custom-checkbox {
      appearance: none;
      width: 20px;
      height: 20px;
      border: 1.5px solid #cbd5e0;
      border-radius: 4px;
      position: relative;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .custom-checkbox:checked {
      background-color: var(--lg-red);
      border-color: var(--lg-red);
    }
    
    .custom-checkbox:checked::after {
      content: '✓';
      position: absolute;
      color: white;
      font-size: 14px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    
    /* Summary Section */
    .summary-item {
      padding: 16px;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .summary-item:last-child {
      border-bottom: none;
    }
    
    .summary-label {
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .summary-value {
      color: #4a5568;
    }
    
    .equipment-container {
      margin-bottom: 16px;
    }
    
    .equipment-item {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-bottom: 12px;
      align-items: center;
    }
    
    .equipment-item select {
      grid-column: span 3;
    }
    
    .equipment-item input {
      grid-column: span 3;
    }
    
    .equipment-item input.quantity {
      grid-column: span 1;
    }
    
    .equipment-item .equipment-remove {
      grid-column: span 1;
      display: flex;
      justify-content: center;
    }
    
    @media (max-width: 768px) {
      .equipment-item {
        grid-template-columns: 1fr;
        gap: 8px;
      }
      
      .equipment-item select,
      .equipment-item input,
      .equipment-item input.quantity,
      .equipment-item .equipment-remove {
        grid-column: 1 / -1;
      }
      
      .equipment-item .equipment-remove {
        justify-content: flex-end;
      }
    }
    
    .tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 240px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 8px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 14px;
      font-weight: normal;
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    .vehicle-container {
      margin-bottom: 16px;
    }
    
    .vehicle-item {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 12px;
      align-items: center;
    }
    
    .vehicle-item input {
      flex: 1;
      min-width: 200px;
    }

    /* Toast notification */
    .toast {
      position: fixed;
      bottom: 24px;
      right: 24px;
      padding: 16px 24px;
      border-radius: 8px;
      background-color: #4caf50;
      color: white;
      box-shadow: var(--shadow-md);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
      z-index: 9999;
      max-width: 300px;
    }
    
    .toast.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    .toast.error {
      background-color: #f44336;
    }
    
    .toast.warning {
      background-color: #ff9800;
    }
    
    /* Loading */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .fade-out {
      animation: fadeOut 0.5s ease forwards;
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; visibility: hidden; }
    }
    
    /* Dark mode styles */
    @media (prefers-color-scheme: dark) {
      .lg-card {
        background-color: #2d3748;
        color: #f7fafc;
      }
      
      .lg-input,
      .lg-select,
      .lg-textarea {
        background-color: #2d3748;
        border-color: #4a5568;
        color: #f7fafc;
      }
      
      .lg-label {
        color: #e2e8f0;
      }
      
      .summary-value {
        color: #cbd5e0;
      }
      
      .notification-info {
        background-color: rgba(49, 130, 206, 0.2);
        color: #90cdf4;
      }
      
      .notification-warning {
        background-color: rgba(221, 107, 32, 0.2);
        color: #fbd38d;
      }
      
      .upload-area {
        border-color: #4a5568;
      }
    }
  </style>
</head>
<body>
  <div class="container py-10">
    <header class="text-center mb-12">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">LG Science Park <span class="text-red-600">방문 안내</span></h1>
      <p class="text-xl text-gray-600">강사님을 위한 방문 안내 시스템</p>
    </header>
    
    <div class="step-navigation">
      <div class="step-line">
        <div class="progress-bar" id="progress-bar" style="width: 0%;"></div>
      </div>
      <div class="step-item active" data-step="1">
        <div class="step-circle active">1</div>
        <div class="step-name">기본정보</div>
      </div>
      <div class="step-line">
        <div class="progress-bar" style="width: 0%;"></div>
      </div>
      <div class="step-item" data-step="2">
        <div class="step-circle">2</div>
        <div class="step-name">장비정보</div>
      </div>
      <div class="step-line">
        <div class="progress-bar" style="width: 0%;"></div>
      </div>
      <div class="step-item" data-step="3">
        <div class="step-circle">3</div>
        <div class="step-name">차량정보</div>
      </div>
      <div class="step-line">
        <div class="progress-bar" style="width: 0%;"></div>
      </div>
      <div class="step-item" data-step="4">
        <div class="step-circle">4</div>
        <div class="step-name">제출</div>
      </div>
    </div>
    
    <!-- 기본정보 탭 -->
    <div class="tab-content active" id="step-1">
      <!-- 방문/출입 안내 카드 -->
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-info-circle text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">방문 및 출입 안내</h2>
        </div>
        <div class="lg-card-body">
          <div class="notification notification-warning">
            <i class="fas fa-exclamation-circle text-xl"></i>
            <div>
              <p class="font-semibold">방문 포털 접속하여 비회원 방문 예약으로 진행해 주세요.</p>
              <a href="https://visit.lg.com/" target="_blank" class="inline-flex items-center text-red-600 hover:underline mt-2">
                <i class="fas fa-external-link-alt mr-2"></i> 방문포탈 접속하기
              </a>
            </div>
          </div>
          
          <div class="notification notification-info">
            <i class="fas fa-info-circle text-xl"></i>
            <div>
              <p class="font-semibold">노트북 등 기타 전자기기는 반입물품 정보에 필수 입력하셔야 합니다.</p>
              <p class="text-sm">(봉인 예외여부 체크 X)</p>
            </div>
          </div>
          
          <div class="grid md:grid-cols-2 gap-6 mt-6">
            <div>
              <h3 class="font-semibold mb-2">주요 안내사항</h3>
              <ul class="space-y-2">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                  <span>LG 방문신청 서비스 약관: <b>모두 동의</b></span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                  <span>방문장소: <b>LG전자 마곡</b></span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                  <span>방문날짜: <b>강의 기간으로 설정</b> (사전 전검 필요한 경우 해당 기간 포함)</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                  <span>주차: <b>방문자 주차장(P3)</b> 이용</span>
                </li>
              </ul>
            </div>
            <div>
              <h3 class="font-semibold mb-2">운영자 정보</h3>
              <ul class="space-y-2 text-sm">
                <li class="flex items-center">
                  <i class="fas fa-user text-blue-500 mr-2"></i>
                  <span>김미진 - mijin1.kim@lgepartner.com</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-user text-blue-500 mr-2"></i>
                  <span>선송이 - songyi.seon@lge.com</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-user text-blue-500 mr-2"></i>
                  <span>유지혜 - jihye.yoo@lgepartner.com</span>
                </li>
                <li class="flex items-center">
                  <i class="fas fa-user text-blue-500 mr-2"></i>
                  <span>정하연 - hayeon.jung@lgepartner.com</span>
                </li>
                <li class="text-gray-500 italic mt-1">*교육서비스센터</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 강사 정보 입력 카드 -->
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-user-tie text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">강사 정보 입력</h2>
        </div>
        <div class="lg-card-body">
          <div class="grid md:grid-cols-3 gap-4">
            <div class="lg-form-group">
              <label for="company-name" class="lg-label">
                업체명 <span class="text-red-600">*</span>
              </label>
              <input type="text" id="company-name" class="lg-input" placeholder="예: LG전자" required>
            </div>
            <div class="lg-form-group">
              <label for="instructor-name" class="lg-label">
                성함 <span class="text-red-600">*</span>
              </label>
              <input type="text" id="instructor-name" class="lg-input" placeholder="예: 김엘지" required>
            </div>
            <div class="lg-form-group">
              <label for="phone-number" class="lg-label">
                연락처 <span class="text-red-600">*</span>
              </label>
              <input type="tel" id="phone-number" class="lg-input" placeholder="예: 010-1234-5678" required>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 사전 설치 정보 카드 -->
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-laptop-code text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">사전 설치</h2>
        </div>
        <div class="lg-card-body">
          <div class="lg-form-group">
            <label class="lg-label">파일/프로그램 공유</label>
            <div id="installation-area" class="mb-4">
              <div id="file-upload-container" class="mb-4">
                <div class="upload-area" id="installation-upload-area">
                  <i class="fas fa-file-upload text-3xl text-gray-400 mb-2"></i>
                  <p>파일을 이곳에 끌어다 놓거나 클릭하여 업로드하세요</p>
                  <p class="text-sm text-gray-500 mt-2">최대 파일 크기: 30MB</p>
                  <input type="file" id="installation-file" class="hidden">
                </div>
                <div id="installation-file-info" class="hidden mt-3 p-3 bg-gray-100 rounded-lg">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <i class="fas fa-file-alt text-blue-500 mr-2"></i>
                      <span id="installation-file-name">파일명.확장자</span>
                    </div>
                    <button id="installation-file-remove" class="text-red-500 hover:text-red-700">
                      <i class="fas fa-times"></i>
                    </button>
                  </div>
                </div>
              </div>
              
              <div class="lg-form-group">
                <label for="installation-description" class="lg-label">설치 프로그램명 설명</label>
                <textarea id="installation-description" class="lg-textarea" rows="3" placeholder="예: 'OO 프로그램 버전 X.X가 필요합니다'"></textarea>
              </div>
            </div>
            
            <div class="checkbox-container">
              <input type="checkbox" id="installation-none" class="custom-checkbox">
              <label for="installation-none" class="cursor-pointer">해당사항 없음</label>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 교재 제공 방식 카드 -->
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-book text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">교재 제공 방식</h2>
        </div>
        <div class="lg-card-body">
          <div class="flex flex-wrap gap-4">
            <div class="checkbox-container">
              <input type="checkbox" id="material-pdf" class="custom-checkbox material-type">
              <label for="material-pdf" class="cursor-pointer">PDF 교재</label>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="material-paper" class="custom-checkbox material-type">
              <label for="material-paper" class="cursor-pointer">서면 교재</label>
            </div>
            <div class="checkbox-container">
              <input type="checkbox" id="material-none" class="custom-checkbox material-type">
              <label for="material-none" class="cursor-pointer">해당사항 없음</label>
            </div>
          </div>
          
          <div id="material-pdf-area" class="mt-4 hidden">
            <div class="upload-area" id="pdf-upload-area">
              <i class="fas fa-file-pdf text-3xl text-red-500 mb-2"></i>
              <p>PDF 교재를 이곳에 끌어다 놓거나 클릭하여 업로드하세요</p>
              <p class="text-sm text-gray-500 mt-2">모든 파일 형식 지원 (알집 파일 포함)</p>
              <input type="file" id="pdf-file" class="hidden">
            </div>
            <div id="pdf-file-info" class="hidden mt-3 p-3 bg-gray-100 rounded-lg">
              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <i class="fas fa-file-pdf text-red-500 mr-2"></i>
                  <span id="pdf-file-name">파일명.확장자</span>
                </div>
                <button id="pdf-file-remove" class="text-red-500 hover:text-red-700">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
          </div>
          
          <div id="material-paper-area" class="mt-4 hidden">
            <div class="p-4 bg-gray-100 rounded-lg">
              <p class="font-semibold">교재 배송지:</p>
              <p>서울 강서구 마곡중앙로 10로 10, W10동 지하1층 메일센터</p>
              <a href="https://map.naver.com/p/search/LG사이언스파크%20W10동/place/1948693696?c=15.00,0,0,0,dh&isCorrectAnswer=true" 
                 target="_blank" 
                 class="inline-flex items-center text-blue-600 hover:underline mt-2">
                <i class="fas fa-map-marker-alt mr-2"></i> 지도보기
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex justify-between mt-8">
        <div></div>
        <button id="next-to-step-2" class="lg-btn lg-btn-primary">
          다음 단계
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
    
    <!-- 장비정보 탭 -->
    <div class="tab-content" id="step-2">
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-laptop text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">반입 장비 정보</h2>
        </div>
        <div class="lg-card-body">
          <div class="notification notification-info">
            <i class="fas fa-info-circle text-xl"></i>
            <div>
              <p>무선랜 게스트망 연결을 위해 MAC 주소 정보가 필수입니다.</p>
              <p class="text-sm">노트북의 MAC 주소는 cmd 창에서 'ipconfig /all'로 확인 가능합니다.</p>
            </div>
          </div>
          
          <div class="notification notification-warning">
            <i class="fas fa-exclamation-circle text-xl"></i>
            <div>
              <p>외장하드 등 저장매체는 원칙상 반입이 불가합니다.</p>
              <p class="text-sm">필요 시 아래 해당 항목을 체크하고 사유를 기입해 주세요.</p>
            </div>
          </div>
          
          <div class="overflow-x-auto mt-4">
            <div id="equipment-container" class="equipment-container">
              <!-- 장비 항목은 JavaScript로 동적 생성됨 -->
            </div>
            
            <button id="add-equipment" class="lg-btn lg-btn-outline mb-4">
              <i class="fas fa-plus"></i>
              장비 추가
            </button>
          </div>
          
          <div class="mt-6">
            <div class="checkbox-container">
              <input type="checkbox" id="usb-storage" class="custom-checkbox">
              <label for="usb-storage" class="cursor-pointer">USB 등 저장매체 반입이 필요한 경우</label>
            </div>
            
            <div id="usb-storage-detail" class="lg-form-group mt-3 hidden">
              <textarea id="usb-storage-reason" class="lg-textarea" rows="3" placeholder="저장매체 종류 및 개수, 반입 사유 작성"></textarea>
            </div>
          </div>
          
          <div class="mt-4">
            <div class="checkbox-container">
              <input type="checkbox" id="lan-port" class="custom-checkbox">
              <label for="lan-port" class="cursor-pointer">LAN Port 해제가 필요한 경우</label>
            </div>
            
            <div id="lan-port-detail" class="mt-3 hidden">
              <div class="flex flex-wrap gap-3 items-center">
                <select id="lan-port-type" class="lg-select" style="max-width: 200px;">
                  <option value="">선택하세요</option>
                  <option value="USB">USB</option>
                  <option value="LAN">LAN</option>
                  <option value="SD카드">SD카드</option>
                  <option value="카메라">카메라</option>
                  <option value="기타">기타</option>
                </select>
                <input type="text" id="lan-port-details" class="lg-input" placeholder="추가 상세 정보">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex justify-between mt-8">
        <button id="back-to-step-1" class="lg-btn lg-btn-outline">
          <i class="fas fa-arrow-left"></i>
          이전 단계
        </button>
        <button id="next-to-step-3" class="lg-btn lg-btn-primary">
          다음 단계
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
    
    <!-- 차량정보 탭 -->
    <div class="tab-content" id="step-3">
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-car text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">차량 정보 입력</h2>
        </div>
        <div class="lg-card-body">
          <p class="mb-4">주차가 필요한 경우 차량 정보를 입력해 주세요.</p>
          
          <div id="vehicle-container" class="vehicle-container">
            <!-- 차량 항목은 JavaScript로 동적 생성됨 -->
          </div>
          
          <div class="flex gap-4 mb-4">
            <button id="add-vehicle" class="lg-btn lg-btn-outline">
              <i class="fas fa-plus"></i>
              차량 추가
            </button>
            
            <div class="checkbox-container">
              <input type="checkbox" id="vehicle-none" class="custom-checkbox">
              <label for="vehicle-none" class="cursor-pointer">해당사항 없음</label>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex justify-between mt-8">
        <button id="back-to-step-2" class="lg-btn lg-btn-outline">
          <i class="fas fa-arrow-left"></i>
          이전 단계
        </button>
        <button id="next-to-step-4" class="lg-btn lg-btn-primary">
          다음 단계
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </div>
    
    <!-- 제출 탭 -->
    <div class="tab-content" id="step-4">
      <div class="lg-card">
        <div class="lg-card-header">
          <i class="fas fa-check-circle text-2xl text-red-600"></i>
          <h2 class="text-xl font-semibold">정보 확인 및 제출</h2>
        </div>
        <div class="lg-card-body">
          <h3 class="text-lg font-semibold mb-3">입력 정보 요약</h3>
          
          <div class="bg-gray-100 rounded-lg overflow-hidden">
            <div class="summary-item">
              <div class="summary-label">기본 정보</div>
              <div class="summary-value grid md:grid-cols-3 gap-2">
                <div>업체명: <span id="summary-company">(입력 필요)</span></div>
                <div>강사명: <span id="summary-instructor">(입력 필요)</span></div>
                <div>연락처: <span id="summary-phone">(입력 필요)</span></div>
              </div>
            </div>
            
            <div class="summary-item">
              <div class="summary-label">사전 설치</div>
              <div class="summary-value" id="summary-installation">(입력 필요)</div>
            </div>
            
            <div class="summary-item">
              <div class="summary-label">교재 제공 방식</div>
              <div class="summary-value" id="summary-material">(입력 필요)</div>
            </div>
            
            <div class="summary-item">
              <div class="summary-label">반입 장비 정보</div>
              <div class="summary-value" id="summary-equipment">(입력 필요)</div>
            </div>
            
            <div class="summary-item">
              <div class="summary-label">차량 정보</div>
              <div class="summary-value" id="summary-vehicle">(입력 필요)</div>
            </div>
          </div>
          
          <hr class="my-6 border-t border-gray-200">
          
          <div class="lg-form-group">
            <label for="operator-email" class="lg-label">운영자 이메일 선택</label>
            <select id="operator-email" class="lg-select">
              <option value="mijin1.kim@lgepartner.com">김미진 - mijin1.kim@lgepartner.com</option>
              <option value="songyi.seon@lge.com">선송이 - songyi.seon@lge.com</option>
              <option value="jihye.yoo@lgepartner.com">유지혜 - jihye.yoo@lgepartner.com</option>
              <option value="hayeon.jung@lgepartner.com">정하연 - hayeon.jung@lgepartner.com</option>
              <option value="custom">직접 입력</option>
            </select>
            <input type="email" id="custom-email" class="lg-input mt-3 hidden" placeholder="운영자 이메일 직접 입력">
          </div>
          
          <div class="lg-form-group">
            <label for="extra-request" class="lg-label">추가 요청사항</label>
            <textarea id="extra-request" class="lg-textarea" rows="3" placeholder="추가 요청사항이 있으면 작성해 주세요."></textarea>
          </div>
        </div>
      </div>
      
      <div class="flex justify-between mt-8">
        <button id="back-to-step-3" class="lg-btn lg-btn-outline">
          <i class="fas fa-arrow-left"></i>
          이전 단계
        </button>
        <button id="submit-form" class="lg-btn lg-btn-primary">
          <i class="fas fa-paper-plane"></i>
          이메일 전송
        </button>
      </div>
    </div>
  </div>
  
  <footer class="text-center py-6 text-gray-500 text-sm">
    <p>© 2023 LG Science Park. All rights reserved.</p>
  </footer>
  
  <!-- Toast for notifications -->
  <div id="toast" class="toast"></div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize variables
      let currentStep = 1;
      const totalSteps = 4;
      let formData = {
        basicInfo: {},
        installation: {},
        material: {},
        equipment: [],
        usbStorage: {},
        lanPort: {},
        vehicles: []
      };
      
      // Load saved form data from localStorage
      loadFormData();
      
      // Elements
      const progressBar = document.getElementById('progress-bar');
      const stepItems = document.querySelectorAll('.step-item');
      const tabContents = document.querySelectorAll('.tab-content');
      
      // Next and previous buttons
      const nextToStep2 = document.getElementById('next-to-step-2');
      const nextToStep3 = document.getElementById('next-to-step-3');
      const nextToStep4 = document.getElementById('next-to-step-4');
      const backToStep1 = document.getElementById('back-to-step-1');
      const backToStep2 = document.getElementById('back-to-step-2');
      const backToStep3 = document.getElementById('back-to-step-3');
      const submitForm = document.getElementById('submit-form');
      
      // Upload areas
      const installationUploadArea = document.getElementById('installation-upload-area');
      const installationFile = document.getElementById('installation-file');
      const installationFileInfo = document.getElementById('installation-file-info');
      const installationFileName = document.getElementById('installation-file-name');
      const installationFileRemove = document.getElementById('installation-file-remove');
      
      const pdfUploadArea = document.getElementById('pdf-upload-area');
      const pdfFile = document.getElementById('pdf-file');
      const pdfFileInfo = document.getElementById('pdf-file-info');
      const pdfFileName = document.getElementById('pdf-file-name');
      const pdfFileRemove = document.getElementById('pdf-file-remove');
      
      // Checkboxes
      const installationNone = document.getElementById('installation-none');
      const materialPdf = document.getElementById('material-pdf');
      const materialPaper = document.getElementById('material-paper');
      const materialNone = document.getElementById('material-none');
      const usbStorage = document.getElementById('usb-storage');
      const lanPort = document.getElementById('lan-port');
      const vehicleNone = document.getElementById('vehicle-none');
      
      // Conditional areas
      const installationArea = document.getElementById('installation-area');
      const materialPdfArea = document.getElementById('material-pdf-area');
      const materialPaperArea = document.getElementById('material-paper-area');
      const usbStorageDetail = document.getElementById('usb-storage-detail');
      const lanPortDetail = document.getElementById('lan-port-detail');
      
      // Equipment and vehicle containers
      const equipmentContainer = document.getElementById('equipment-container');
      const vehicleContainer = document.getElementById('vehicle-container');
      const addEquipment = document.getElementById('add-equipment');
      const addVehicle = document.getElementById('add-vehicle');
      
      // Operator email selection
      const operatorEmail = document.getElementById('operator-email');
      const customEmail = document.getElementById('custom-email');
      
      // Summary elements
      const summaryCompany = document.getElementById('summary-company');
      const summaryInstructor = document.getElementById('summary-instructor');
      const summaryPhone = document.getElementById('summary-phone');
      const summaryInstallation = document.getElementById('summary-installation');
      const summaryMaterial = document.getElementById('summary-material');
      const summaryEquipment = document.getElementById('summary-equipment');
      const summaryVehicle = document.getElementById('summary-vehicle');
      
      // Equipment options
      const equipmentOptions = [
        '선택하세요', '노트북', '네트워크장비', 'NAS', '데스크탑', '스마트패드', 
        '샘플폰', '서버장비', '태블릿PC', 'AP', 'CD', '디지털카메라', 
        'DVD', '기타', 'HDD/SSD', '모바일폰', '메모리카드', 'USB', '워크스테이션'
      ];
      
      // Initialize equipment and vehicle items
      if (formData.equipment.length === 0) {
        addEquipmentItem();
      } else {
        formData.equipment.forEach(item => {
          addEquipmentItem(item);
        });
      }
      
      if (formData.vehicles.length === 0 && !formData.vehicleNone) {
        addVehicleItem();
      } else if (!formData.vehicleNone) {
        formData.vehicles.forEach(item => {
          addVehicleItem(item);
        });
      }
      
      // Update summary
      updateSummary();
      
      // Set initial progress
      updateProgress();
      
      // Step navigation
      stepItems.forEach(item => {
        item.addEventListener('click', function() {
          goToStep(parseInt(this.dataset.step));
        });
      });
      
      // Next and previous buttons
      nextToStep2.addEventListener('click', () => goToStep(2));
      nextToStep3.addEventListener('click', () => goToStep(3));
      nextToStep4.addEventListener('click', () => goToStep(4));
      backToStep1.addEventListener('click', () => goToStep(1));
      backToStep2.addEventListener('click', () => goToStep(2));
      backToStep3.addEventListener('click', () => goToStep(3));
      
      // Submit form
      submitForm.addEventListener('click', handleSubmit);
      
      // File upload handlers
      setupFileUpload(installationUploadArea, installationFile, installationFileInfo, installationFileName, installationFileRemove, 'installation');
      setupFileUpload(pdfUploadArea, pdfFile, pdfFileInfo, pdfFileName, pdfFileRemove, 'pdf');
      
      // Checkbox change handlers
      installationNone.addEventListener('change', function() {
        installationArea.style.display = this.checked ? 'none' : 'block';
        formData.installation.none = this.checked;
        saveFormData();
        updateSummary();
      });
      
      materialPdf.addEventListener('change', function() {
        materialPdfArea.style.display = this.checked ? 'block' : 'none';
        if (this.checked) {
          materialNone.checked = false;
          formData.material.none = false;
        }
        formData.material.pdf = this.checked;
        saveFormData();
        updateSummary();
      });
      
      materialPaper.addEventListener('change', function() {
        materialPaperArea.style.display = this.checked ? 'block' : 'none';
        if (this.checked) {
          materialNone.checked = false;
          formData.material.none = false;
        }
        formData.material.paper = this.checked;
        saveFormData();
        updateSummary();
      });
      
      materialNone.addEventListener('change', function() {
        if (this.checked) {
          materialPdf.checked = false;
          materialPaper.checked = false;
          materialPdfArea.style.display = 'none';
          materialPaperArea.style.display = 'none';
          formData.material.pdf = false;
          formData.material.paper = false;
        }
        formData.material.none = this.checked;
        saveFormData();
        updateSummary();
      });
      
      usbStorage.addEventListener('change', function() {
        usbStorageDetail.style.display = this.checked ? 'block' : 'none';
        formData.usbStorage.needed = this.checked;
        saveFormData();
        updateSummary();
      });
      
      lanPort.addEventListener('change', function() {
        lanPortDetail.style.display = this.checked ? 'block' : 'none';
        formData.lanPort.needed = this.checked;
        saveFormData();
        updateSummary();
      });
      
      vehicleNone.addEventListener('change', function() {
        const vehicleItems = vehicleContainer.querySelectorAll('.vehicle-item');
        vehicleItems.forEach(item => {
          item.style.display = this.checked ? 'none' : 'flex';
        });
        addVehicle.disabled = this.checked;
        addVehicle.style.opacity = this.checked ? '0.5' : '1';
        formData.vehicleNone = this.checked;
        if (this.checked) {
          formData.vehicles = [];
          vehicleContainer.innerHTML = '';
        } else if (vehicleContainer.children.length === 0) {
          addVehicleItem();
        }
        saveFormData();
        updateSummary();
      });
      
      // Operator email change
      operatorEmail.addEventListener('change', function() {
        customEmail.style.display = this.value === 'custom' ? 'block' : 'none';
      });
      
      // Add equipment and vehicle buttons
      addEquipment.addEventListener('click', () => addEquipmentItem());
      addVehicle.addEventListener('click', () => addVehicleItem());
      
      // Input change handlers for basic info
      document.getElementById('company-name').addEventListener('input', function() {
        formData.basicInfo.company = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('instructor-name').addEventListener('input', function() {
        formData.basicInfo.instructor = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('phone-number').addEventListener('input', function() {
        formData.basicInfo.phone = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('installation-description').addEventListener('input', function() {
        formData.installation.description = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('usb-storage-reason').addEventListener('input', function() {
        formData.usbStorage.reason = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('lan-port-type').addEventListener('change', function() {
        formData.lanPort.type = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('lan-port-details').addEventListener('input', function() {
        formData.lanPort.details = this.value;
        saveFormData();
        updateSummary();
      });
      
      document.getElementById('extra-request').addEventListener('input', function() {
        formData.extraRequest = this.value;
        saveFormData();
      });
      
      // Apply saved form data
      if (formData.installation.none) {
        installationNone.checked = true;
        installationArea.style.display = 'none';
      }
      
      if (formData.material.pdf) {
        materialPdf.checked = true;
        materialPdfArea.style.display = 'block';
      }
      
      if (formData.material.paper) {
        materialPaper.checked = true;
        materialPaperArea.style.display = 'block';
      }
      
      if (formData.material.none) {
        materialNone.checked = true;
      }
      
      if (formData.usbStorage.needed) {
        usbStorage.checked = true;
        usbStorageDetail.style.display = 'block';
      }
      
      if (formData.lanPort.needed) {
        lanPort.checked = true;
        lanPortDetail.style.display = 'block';
      }
      
      if (formData.vehicleNone) {
        vehicleNone.checked = true;
        addVehicle.disabled = true;
        addVehicle.style.opacity = '0.5';
      }
      
      document.getElementById('company-name').value = formData.basicInfo.company || '';
      document.getElementById('instructor-name').value = formData.basicInfo.instructor || '';
      document.getElementById('phone-number').value = formData.basicInfo.phone || '';
      document.getElementById('installation-description').value = formData.installation.description || '';
      document.getElementById('usb-storage-reason').value = formData.usbStorage.reason || '';
      document.getElementById('lan-port-type').value = formData.lanPort.type || '';
      document.getElementById('lan-port-details').value = formData.lanPort.details || '';
      document.getElementById('extra-request').value = formData.extraRequest || '';
      
      // Functions
      function goToStep(step) {
        if (step < 1 || step > totalSteps) return;
        
        // Update active step
        stepItems.forEach(item => {
          const itemStep = parseInt(item.dataset.step);
          if (itemStep <= step) {
            item.classList.add('active');
            item.querySelector('.step-circle').classList.add('active');
          } else {
            item.classList.remove('active');
            item.querySelector('.step-circle').classList.remove('active');
          }
        });
        
        // Show active tab content
        tabContents.forEach(content => {
          content.classList.remove('active');
        });
        document.getElementById(`step-${step}`).classList.add('active');
        
        // Update current step
        currentStep = step;
        
        // Update progress bar
        updateProgress();
        
        // Update summary if going to last step
        if (step === totalSteps) {
          updateSummary();
        }
        
        // Scroll to top
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      }
      
      function updateProgress() {
        const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
        progressBar.style.width = `${progress}%`;
        
        // Update progress bars between steps
        const progressBars = document.querySelectorAll('.step-line .progress-bar');
        for (let i = 0; i < progressBars.length; i++) {
          if (i < currentStep - 1) {
            progressBars[i].style.width = '100%';
          } else {
            progressBars[i].style.width = '0%';
          }
        }
      }
      
      function setupFileUpload(dropArea, fileInput, fileInfo, fileName, removeButton, type) {
        // Prevent default drag behaviors
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
          dropArea.addEventListener(eventName, preventDefaults, false);
        });
        
        // Highlight drop area when dragging over it
        ['dragenter', 'dragover'].forEach(eventName => {
          dropArea.addEventListener(eventName, highlight, false);
        });
        
        ['dragleave', 'drop'].forEach(eventName => {
          dropArea.addEventListener(eventName, unhighlight, false);
        });
        
        // Handle dropped files
        dropArea.addEventListener('drop', handleDrop, false);
        
        // Handle click to select file
        dropArea.addEventListener('click', () => {
          fileInput.click();
        });
        
        // Handle file selection
        fileInput.addEventListener('change', () => {
          handleFiles(fileInput.files);
        });
        
        // Handle file removal
        removeButton.addEventListener('click', removeFile);
        
        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }
        
        function highlight() {
          dropArea.classList.add('bg-gray-100');
        }
        
        function unhighlight() {
          dropArea.classList.remove('bg-gray-100');
        }
        
        function handleDrop(e) {
          const dt = e.dataTransfer;
          const files = dt.files;
          handleFiles(files);
        }
        
        function handleFiles(files) {
          if (files.length > 0) {
            const file = files[0];
            displayFile(file);
            
            // Save file information (name and size only, not the actual file)
            if (type === 'installation') {
              formData.installation.file = {
                name: file.name,
                size: file.size
              };
            } else if (type === 'pdf') {
              formData.material.file = {
                name: file.name,
                size: file.size
              };
            }
            
            saveFormData();
            updateSummary();
          }
        }
        
        function displayFile(file) {
          fileName.textContent = file.name;
          fileInfo.classList.remove('hidden');
          showToast(`파일 "${file.name}"이(가) 업로드되었습니다.`, 'success');
        }
        
        function removeFile() {
          fileInput.value = '';
          fileInfo.classList.add('hidden');
          
          if (type === 'installation') {
            formData.installation.file = null;
          } else if (type === 'pdf') {
            formData.material.file = null;
          }
          
          saveFormData();
          updateSummary();
        }
      }
      
      function addEquipmentItem(data = null) {
        const item = document.createElement('div');
        item.className = 'equipment-item';
        
        // Create select for equipment type
        const selectType = document.createElement('select');
        selectType.className = 'lg-select';
        equipmentOptions.forEach(option => {
          const optionEl = document.createElement('option');
          optionEl.value = option;
          optionEl.textContent = option;
          selectType.appendChild(optionEl);
        });
        
        // Create other inputs
        const inputManufacturer = document.createElement('input');
        inputManufacturer.type = 'text';
        inputManufacturer.className = 'lg-input';
        inputManufacturer.placeholder = '제조사';
        
        const inputModel = document.createElement('input');
        inputModel.type = 'text';
        inputModel.className = 'lg-input';
        inputModel.placeholder = '기종';
        
        const inputQuantity = document.createElement('input');
        inputQuantity.type = 'number';
        inputQuantity.className = 'lg-input quantity text-center';
        inputQuantity.min = '1';
        inputQuantity.value = '1';
        
        const inputMac = document.createElement('input');
        inputMac.type = 'text';
        inputMac.className = 'lg-input';
        inputMac.placeholder = 'S/N & MAC주소';
        
        // Create remove button
        const buttonRemove = document.createElement('button');
        buttonRemove.className = 'equipment-remove text-red-500 hover:text-red-700';
        buttonRemove.innerHTML = '<i class="fas fa-trash"></i>';
        
        // Add elements to item
        item.appendChild(selectType);
        item.appendChild(inputManufacturer);
        item.appendChild(inputModel);
        item.appendChild(inputQuantity);
        item.appendChild(inputMac);
        item.appendChild(buttonRemove);
        
        // Add item to container
        equipmentContainer.appendChild(item);
        
        // Set values if data is provided
        if (data) {
          selectType.value = data.type || '';
          inputManufacturer.value = data.manufacturer || '';
          inputModel.value = data.model || '';
          inputQuantity.value = data.quantity || '1';
          inputMac.value = data.mac || '';
        } else {
          // Add new item to form data
          const index = formData.equipment.length;
          formData.equipment.push({
            type: '',
            manufacturer: '',
            model: '',
            quantity: '1',
            mac: ''
          });
        }
        
        // Add event listeners
        selectType.addEventListener('change', function() {
          const index = Array.from(equipmentContainer.children).indexOf(item);
          formData.equipment[index].type = this.value;
          saveFormData();
          updateSummary();
        });
        
        inputManufacturer.addEventListener('input', function() {
          const index = Array.from(equipmentContainer.children).indexOf(item);
          formData.equipment[index].manufacturer = this.value;
          saveFormData();
          updateSummary();
        });
        
        inputModel.addEventListener('input', function() {
          const index = Array.from(equipmentContainer.children).indexOf(item);
          formData.equipment[index].model = this.value;
          saveFormData();
          updateSummary();
        });
        
        inputQuantity.addEventListener('input', function() {
          const index = Array.from(equipmentContainer.children).indexOf(item);
          formData.equipment[index].quantity = this.value;
          saveFormData();
          updateSummary();
        });
        
        inputMac.addEventListener('input', function() {
          const index = Array.from(equipmentContainer.children).indexOf(item);
          formData.equipment[index].mac = this.value;
          saveFormData();
          updateSummary();
        });
        
        buttonRemove.addEventListener('click', function() {
          const index = Array.from(equipmentContainer.children).indexOf(item);
          
          // Check if it's the last item
          if (equipmentContainer.children.length === 1) {
            showToast('최소 한 개의 장비 정보가 필요합니다.', 'warning');
            return;
          }
          
          // Remove from DOM and form data
          item.remove();
          formData.equipment.splice(index, 1);
          saveFormData();
          updateSummary();
        });
      }
      
      function addVehicleItem(data = null) {
        const item = document.createElement('div');
        item.className = 'vehicle-item';
        
        // Create inputs
        const inputType = document.createElement('input');
        inputType.type = 'text';
        inputType.className = 'lg-input';
        inputType.placeholder = '차종 (예: 그랜저)';
        
        const inputNumber = document.createElement('input');
        inputNumber.type = 'text';
        inputNumber.className = 'lg-input';
        inputNumber.placeholder = '차량번호 (예: 12가 1234)';
        
        // Create remove button
        const buttonRemove = document.createElement('button');
        buttonRemove.className = 'text-red-500 hover:text-red-700';
        buttonRemove.innerHTML = '<i class="fas fa-trash"></i>';
        
        // Add elements to item
        item.appendChild(inputType);
        item.appendChild(inputNumber);
        item.appendChild(buttonRemove);
        
        // Add item to container
        vehicleContainer.appendChild(item);
        
        // Set values if data is provided
        if (data) {
          inputType.value = data.type || '';
          inputNumber.value = data.number || '';
        } else {
          // Add new item to form data
          const index = formData.vehicles.length;
          formData.vehicles.push({
            type: '',
            number: ''
          });
        }
        
        // Add event listeners
        inputType.addEventListener('input', function() {
          const index = Array.from(vehicleContainer.children).indexOf(item);
          formData.vehicles[index].type = this.value;
          saveFormData();
          updateSummary();
        });
        
        inputNumber.addEventListener('input', function() {
          const index = Array.from(vehicleContainer.children).indexOf(item);
          formData.vehicles[index].number = this.value;
          saveFormData();
          updateSummary();
        });
        
        buttonRemove.addEventListener('click', function() {
          const index = Array.from(vehicleContainer.children).indexOf(item);
          
          // Check if it's the last item
          if (vehicleContainer.children.length === 1) {
            // Instead of showing a warning, add the "해당사항 없음" checkbox
            vehicleNone.checked = true;
            vehicleNone.dispatchEvent(new Event('change'));
            return;
          }
          
          // Remove from DOM and form data
          item.remove();
          formData.vehicles.splice(index, 1);
          saveFormData();
          updateSummary();
        });
      }
      
      function updateSummary() {
        // Update basic info
        summaryCompany.textContent = formData.basicInfo.company || '(입력 필요)';
        summaryInstructor.textContent = formData.basicInfo.instructor || '(입력 필요)';
        summaryPhone.textContent = formData.basicInfo.phone || '(입력 필요)';
        
        // Update installation
        let installationText = '';
        if (formData.installation.none) {
          installationText = '해당사항 없음';
        } else {
          if (formData.installation.file) {
            installationText = `파일: ${formData.installation.file.name}<br>`;
          }
          if (formData.installation.description) {
            installationText += `설명: ${formData.installation.description}`;
          }
          if (!formData.installation.file && !formData.installation.description) {
            installationText = '(입력 필요)';
          }
        }
        summaryInstallation.innerHTML = installationText;
        
        // Update material
        let materialText = '';
        if (formData.material.none) {
          materialText = '해당사항 없음';
        } else {
          if (formData.material.pdf) {
            materialText = 'PDF 교재';
            if (formData.material.file) {
              materialText += `: ${formData.material.file.name}`;
            }
          }
          if (formData.material.paper) {
            if (materialText) materialText += '<br>';
            materialText += '서면 교재: 메일센터로 배송';
          }
          if (!formData.material.pdf && !formData.material.paper) {
            materialText = '(입력 필요)';
          }
        }
        summaryMaterial.innerHTML = materialText;
        
        // Update equipment
        let equipmentText = '';
        if (formData.equipment.length > 0) {
          formData.equipment.forEach((item, index) => {
            if (item.type && item.type !== '선택하세요') {
              if (equipmentText) equipmentText += '<br>';
              equipmentText += `${index+1}. ${item.type}`;
              if (item.manufacturer) equipmentText += `, ${item.manufacturer}`;
              if (item.model) equipmentText += `, ${item.model}`;
              equipmentText += `, ${item.quantity}대`;
              if (item.mac) equipmentText += `, MAC: ${item.mac}`;
            }
          });
          
          // Add USB storage info if needed
          if (formData.usbStorage.needed) {
            if (equipmentText) equipmentText += '<br>';
            equipmentText += `• 저장매체 반입: ${formData.usbStorage.reason || '사유 미입력'}`;
          }
          
          // Add LAN port info if needed
          if (formData.lanPort.needed) {
            if (equipmentText) equipmentText += '<br>';
            let lanPortText = '• LAN Port 해제: ';
            if (formData.lanPort.type) lanPortText += formData.lanPort.type;
            if (formData.lanPort.details) lanPortText += ` (${formData.lanPort.details})`;
            equipmentText += lanPortText;
          }
          
          if (!equipmentText) {
            equipmentText = '(입력 필요)';
          }
        } else {
          equipmentText = '(입력 필요)';
        }
        summaryEquipment.innerHTML = equipmentText;
        
        // Update vehicle
        let vehicleText = '';
        if (formData.vehicleNone) {
          vehicleText = '해당사항 없음';
        } else if (formData.vehicles.length > 0) {
          formData.vehicles.forEach((item, index) => {
            if (item.type || item.number) {
              if (vehicleText) vehicleText += '<br>';
              vehicleText += `${index+1}. ${item.type || '차종 미입력'}, ${item.number || '차량번호 미입력'}`;
            }
          });
          if (!vehicleText) {
            vehicleText = '(입력 필요)';
          }
        } else {
          vehicleText = '(입력 필요)';
        }
        summaryVehicle.innerHTML = vehicleText;
      }
      
      function saveFormData() {
        // Save form data to localStorage
        localStorage.setItem('lgSparkFormData', JSON.stringify(formData));
      }
      
      function loadFormData() {
        // Load form data from localStorage
        const savedData = localStorage.getItem('lgSparkFormData');
        if (savedData) {
          formData = JSON.parse(savedData);
          
          // Initialize empty arrays if they don't exist
          if (!formData.equipment) formData.equipment = [];
          if (!formData.vehicles) formData.vehicles = [];
        }
      }
      
      function handleSubmit() {
        // Check if required fields are filled
        const requiredFields = [
          { field: 'company-name', label: '업체명' },
          { field: 'instructor-name', label: '강사명' },
          { field: 'phone-number', label: '연락처' }
        ];
        
        let missingFields = [];
        
        requiredFields.forEach(item => {
          const field = document.getElementById(item.field);
          if (!field.value.trim()) {
            missingFields.push(item.label);
            field.classList.add('border-red-500');
          } else {
            field.classList.remove('border-red-500');
          }
        });
        
        if (missingFields.length > 0) {
          showToast(`필수 항목을 입력해주세요: ${missingFields.join(', ')}`, 'error');
          return;
        }
        
        // Check if custom email is required but not provided
        if (operatorEmail.value === 'custom' && !customEmail.value) {
          customEmail.classList.add('border-red-500');
          showToast('운영자 이메일을 입력해주세요.', 'error');
          return;
        } else {
          customEmail.classList.remove('border-red-500');
        }
        
        // Show loading in button
        submitForm.disabled = true;
        submitForm.innerHTML = '<div class="loading"></div> 전송 중...';
        
        // Simulate email sending (replace with actual implementation)
        setTimeout(() => {
          // Show success message
          showToast('이메일이 성공적으로 전송되었습니다!', 'success');
          
          // Reset button
          submitForm.disabled = false;
          submitForm.innerHTML = '<i class="fas fa-paper-plane"></i> 이메일 전송';
          
          // Clear form data (optional)
          // localStorage.removeItem('lgSparkFormData');
          // formData = { basicInfo: {}, installation: {}, material: {}, equipment: [], usbStorage: {}, lanPort: {}, vehicles: [] };
          // location.reload();
        }, 2000);
      }
      
      function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.className = `toast ${type}`;
        toast.classList.add('show');
        
        setTimeout(() => {
          toast.classList.remove('show');
        }, 3000);
      }
    });
  </script>
</body>
</html>
